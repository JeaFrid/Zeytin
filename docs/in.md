# Zeytin <ЁЯлТ/>

**Zeytin** рдПрдХ рдЙрдЪреНрдЪ-рдкреНрд░рджрд░реНрд╢рди, рд╕реНрдХреЗрд▓реЗрдмрд▓ (scalable) рдФрд░ рд╕реБрд░рдХреНрд╖рд╛-рдХреЗрдВрджреНрд░рд┐рдд рдЕрдЧрд▓реА рдкреАрдврд╝реА рдХрд╛ рд╕рд░реНрд╡рд░ рд╕рдорд╛рдзрд╛рди рд╣реИ рдЬреЛ рдмрд╛рд╣рд░реА рдбреЗрдЯрд╛рдмреЗрд╕ рдирд┐рд░реНрднрд░рддрд╛ рдХреЛ рд╕рдорд╛рдкреНрдд рдХрд░рддрд╛ рд╣реИред Dart рднрд╛рд╖рд╛ рдХреА рд╢рдХреНрддрд┐ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реБрдП, рдпрд╣ рдПрдХ рд╡реЗрдм рд╕рд░реНрд╡рд░ рдФрд░ рдПрдХ рдХрд╕реНрдЯрдо NoSQL рдбреЗрдЯрд╛рдмреЗрд╕ рдЗрдВрдЬрди рджреЛрдиреЛрдВ рдХреЗ рд░реВрдк рдореЗрдВ рдХрд╛рд░реНрдп рдХрд░рддрд╛ рд╣реИред

рдкрд╛рд░рдВрдкрд░рд┐рдХ рдмреИрдХрдПрдВрдб рдЖрд░реНрдХрд┐рдЯреЗрдХреНрдЪрд░ рдореЗрдВ, рд╕рд░реНрд╡рд░ рдФрд░ рдбреЗрдЯрд╛рдмреЗрд╕ рдЕрд▓рдЧ-рдЕрд▓рдЧ рд▓реЗрдпрд░реНрд╕ (layers) рдХреЗ рд░реВрдк рдореЗрдВ рдореМрдЬреВрдж рд╣реЛрддреЗ рд╣реИрдВ, рдЬрд┐рд╕рд╕реЗ рдиреЗрдЯрд╡рд░реНрдХ рд╡рд┐рд▓рдВрдмрддрд╛ (latency) рдФрд░ рдкреНрд░рдмрдВрдзрди рдореЗрдВ рдЪреБрдиреМрддрд┐рдпрд╛рдВ рдЖрддреА рд╣реИрдВред Zeytin рдбреЗрдЯрд╛рдмреЗрд╕ рдЗрдВрдЬрди рдХреЛ рд╕реАрдзреЗ рд╕рд░реНрд╡рд░ рдХреА рдореЗрдореЛрд░реА рдФрд░ рдкреНрд░реЛрд╕реЗрд╕рд┐рдВрдЧ рдереНрд░реЗрдбреНрд╕ (threads) рдореЗрдВ рдПрдореНрдмреЗрдб рдХрд░рдХреЗ рдЗрди рдмрд╛рдзрд╛рдУрдВ рдХреЛ рддреЛрдбрд╝рддрд╛ рд╣реИред

## Zeytin рдХреНрдпреЛрдВ?

рдпрд╣ рдЖрдзреБрдирд┐рдХ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдбреЗрд╡рд▓рдкрдореЗрдВрдЯ рдореЗрдВ рдЖрдиреЗ рд╡рд╛рд▓реА рдЬрдЯрд┐рд▓ рдмреБрдирд┐рдпрд╛рджреА рдврд╛рдВрдЪрд╛рдЧрдд рд╕рдорд╕реНрдпрд╛рдУрдВ рдХрд╛ рдПрдХ рд╕рд░рд▓ рд▓реЗрдХрд┐рди рд╢рдХреНрддрд┐рд╢рд╛рд▓реА рдЙрддреНрддрд░ рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИред

### 1. рдЖрддреНрдордирд┐рд░реНрднрд░ (Self-Sufficient)
Zeytin рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╕рдордп, MongoDB, PostgreSQL рдпрд╛ Redis рдЬреИрд╕реА рдмрд╛рд╣рд░реА рд╕реЗрд╡рд╛рдУрдВ рдХреЛ рд╕реНрдерд╛рдкрд┐рдд, рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдпрд╛ рдкреНрд░рдмрдВрдзрд┐рдд рдХрд░рдиреЗ рдХреА рдХреЛрдИ рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реИред Zeytin рдХреЗ рдЕрдВрджрд░ рдПрдХ рдХрд╕реНрдЯрдо рдбрд┐рд╕реНрдХ-рдЖрдзрд╛рд░рд┐рдд рдФрд░ ACID-рдЕрдиреБрд░реВрдк рдбреЗрдЯрд╛рдмреЗрд╕ рдЗрдВрдЬрди рд╣реИ рдЬрд┐рд╕реЗ рд╣рдо **Truck** рдХрд╣рддреЗ рд╣реИрдВред рдЬреИрд╕реЗ рд╣реА рдЖрдк рдЗрдВрд╕реНрдЯреЙрд▓реЗрд╢рди рдкреВрд░рд╛ рдХрд░рддреЗ рд╣реИрдВ, рдЖрдкрдХрд╛ рдбреЗрдЯрд╛рдмреЗрд╕ рддреИрдпрд╛рд░ рд╣реЛ рдЬрд╛рддрд╛ рд╣реИред

### 2. рдЖрдЗрд╕реЛрд▓реЗрд╢рди рдЖрд░реНрдХрд┐рдЯреЗрдХреНрдЪрд░ рдФрд░ рдЙрдЪреНрдЪ рдкреНрд░рджрд░реНрд╢рди
рд╕рд┐рд╕реНрдЯрдо Dart рдХреА **Isolate** рддрдХрдиреАрдХ рдкрд░ рдмрдирд╛рдпрд╛ рдЧрдпрд╛ рд╣реИред рдкреНрд░рддреНрдпреЗрдХ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдбреЗрдЯрд╛рдмреЗрд╕ (Truck) рдПрдХ рдереНрд░реЗрдб рдореЗрдВ рдЪрд▓рддрд╛ рд╣реИ рдЬреЛ рдореБрдЦреНрдп рд╕рд░реНрд╡рд░ рд╕реЗ рд╕реНрд╡рддрдВрддреНрд░ рдФрд░ рдЕрд▓рдЧ (isolated) рд╣реЛрддрд╛ рд╣реИред рдпрд╣ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рддрд╛ рд╣реИ рдХрд┐ рдПрдХ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рджреНрд╡рд╛рд░рд╛ рднрд╛рд░реА рдбреЗрдЯрд╛ рд▓рд┐рдЦрдиреЗ рдХреА рдкреНрд░рдХреНрд░рд┐рдпрд╛ рд╕рд░реНрд╡рд░ рдХреЛ рдЕрдиреНрдп рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреЛ рдЬрд╡рд╛рдм рджреЗрдиреЗ рд╕реЗ рдХрднреА рдирд╣реАрдВ рд░реЛрдХрддреА рд╣реИред рд╡рд┐рд╢реЗрд╖ **Binary Encoder** рдХреЗ рдХрд╛рд░рдг, рдбреЗрдЯрд╛ JSON рдлреЙрд░реНрдореЗрдЯ рдХреА рддреБрд▓рдирд╛ рдореЗрдВ рдмрд╣реБрдд рдХрдо рдЬрдЧрд╣ рд▓реЗрддрд╛ рд╣реИ рдФрд░ рдмрд╣реБрдд рддреЗрдЬреА рд╕реЗ рдкреНрд░реЛрд╕реЗрд╕ рд╣реЛрддрд╛ рд╣реИред

### 3. рдЖрдВрддрд░рд┐рдХ рдлрд╝рд╛рдпрд░рд╡реЙрд▓: Gatekeeper
Zeytin рд╕реБрд░рдХреНрд╖рд╛ рдХреЗ рдорд╛рдорд▓реЗ рдореЗрдВ рдХреБрдЫ рднреА рд╕рдВрдпреЛрдЧ рдкрд░ рдирд╣реАрдВ рдЫреЛрдбрд╝рддрд╛ рд╣реИред рдпрд╣ **Gatekeeper** рдореЙрдбреНрдпреВрд▓ рдХреЗ рд╕рд╛рде рд╕рд░реНрд╡рд░ рдЯреНрд░реИрдлрд╝рд┐рдХ рдХрд╛ рд▓рдЧрд╛рддрд╛рд░ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХрд░рддрд╛ рд╣реИ:
* рддрддреНрдХрд╛рд▓ рдкреАрдХ рд▓реЛрдб (peak loads) рдХреЗ рджреМрд░рд╛рди рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рд╕реНрд▓реАрдк рдореЛрдб (Sleep Mode) рдореЗрдВ рдЪрд▓рд╛ рдЬрд╛рддрд╛ рд╣реИред
* IP-рдЖрдзрд╛рд░рд┐рдд рджрд░ рд╕реАрдорд╛ (rate limiting) рд▓рд╛рдЧреВ рдХрд░рдХреЗ рд╕реНрдкреИрдо рдЕрдиреБрд░реЛрдзреЛрдВ рдХреЛ рд░реЛрдХрддрд╛ рд╣реИред
* рджреБрд░реНрднрд╛рд╡рдирд╛рдкреВрд░реНрдг рдкреНрд░рдпрд╛рд╕реЛрдВ рдХрд╛ рдкрддрд╛ рд▓рдЧрд╛рддрд╛ рд╣реИ рдФрд░ рд╕рдВрдмрдВрдзрд┐рдд IP рдкрддреЛрдВ рдХреЛ рдкреНрд░рддрд┐рдмрдВрдзрд┐рдд (ban) рдХрд░рддрд╛ рд╣реИред

### 4. рдПрдВрдб-рдЯреВ-рдПрдВрдб рдПрдиреНрдХреНрд░рд┐рдкреНрд╢рди (End-to-End Encryption)
рдЖрдкрдХрд╛ рдбреЗрдЯрд╛ рди рдХреЗрд╡рд▓ рдбрд┐рд╕реНрдХ рдкрд░ рд╕реБрд░рдХреНрд╖рд┐рдд рд╣реИ, рдмрд▓реНрдХрд┐ рдиреЗрдЯрд╡рд░реНрдХ рдкрд░ рдЯреНрд░рд╛рдВрд╕рдкреЛрд░реНрдЯ рд╣реЛрддреЗ рд╕рдордп рднреА рд╕реБрд░рдХреНрд╖рд┐рдд рд╣реИред Zeytin рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЗ рдкрд╛рд╕рд╡рд░реНрдб рд╕реЗ рдмрдирд╛рдП рдЧрдП 'keys' рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ **AES-CBC** рдорд╛рдирдХ рдХреЗ рд╕рд╛рде рдХреНрд▓рд╛рдЗрдВрдЯ рдФрд░ рд╕рд░реНрд╡рд░ рдХреЗ рдмреАрдЪ рдорд╣рддреНрд╡рдкреВрд░реНрдг рдбреЗрдЯрд╛ рдЯреНрд░реИрдлрд╝рд┐рдХ рдХреЛ рдПрдиреНрдХреНрд░рд┐рдкреНрдЯ рдХрд░рддрд╛ рд╣реИред рдпрд╣рд╛рдВ рддрдХ тАЛтАЛрдХрд┐ рдбреЗрдЯрд╛рдмреЗрд╕ рдкреНрд░рд╢рд╛рд╕рдХ рднреА рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдкрд╛рд╕рд╡рд░реНрдб рдХреЛ рдЬрд╛рдиреЗ рдмрд┐рдирд╛ рдбреЗрдЯрд╛ рдХреА рд╕рд╛рдордЧреНрд░реА рдирд╣реАрдВ рджреЗрдЦ рд╕рдХрддрд╛ рд╣реИред

### 5. рд╡рд╛рд╕реНрддрд╡рд┐рдХ рд╕рдордп рдФрд░ рдорд▓реНрдЯреАрдореАрдбрд┐рдпрд╛ рд╕рдорд░реНрдерди
рдпрд╣ рдХреЗрд╡рд▓ рдбреЗрдЯрд╛ рд╕реНрдЯреЛрд░ рдирд╣реАрдВ рдХрд░рддрд╛ рд╣реИ; рдпрд╣ рдЖрдзреБрдирд┐рдХ рдПрдкреНрд▓рд┐рдХреЗрд╢рдиреНрд╕ рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ рд▓рд╛рдЗрд╡ рд╕реБрд╡рд┐рдзрд╛рдПрдБ рднреА рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИ:
* **Watch:** рдЖрдк WebSocket рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдбреЗрдЯрд╛рдмреЗрд╕ рдореЗрдВ рд╣реЛрдиреЗ рд╡рд╛рд▓реЗ рдкрд░рд┐рд╡рд░реНрддрдиреЛрдВ рдХреЛ рддреБрд░рдВрдд рд╕реБрди (listen) рд╕рдХрддреЗ рд╣реИрдВред
* **Call:** рдЖрдВрддрд░рд┐рдХ LiveKit рдПрдХреАрдХрд░рдг рдХреЗ рдХрд╛рд░рдг рд╡реЙрдпрд╕ рдФрд░ рд╡реАрдбрд┐рдпреЛ рдХреЙрд▓ рд░реВрдо рдХрд╛ рдкреНрд░рдмрдВрдзрди рдХрд░рддрд╛ рд╣реИред

---

## рдЖрд░реНрдХрд┐рдЯреЗрдХреНрдЪрд░рд▓ рдЕрд╡рд▓реЛрдХрди

Zeytin рдХреА рдбреЗрдЯрд╛ рд╕рдВрд░рдЪрдирд╛ рд╡рд╛рд╕реНрддрд╡рд┐рдХ рджреБрдирд┐рдпрд╛ рдХреЗ рд▓реЙрдЬрд┐рд╕реНрдЯрд┐рдХреНрд╕ рддрд░реНрдХ рдХреЗ рд╕рд╛рде рдмрдирд╛рдИ рдЧрдИ рд╣реИ рдФрд░ рдЗрд╕рдореЗрдВ рддреАрди рдореБрдЦреНрдп рд▓реЗрдпрд░реНрд╕ (layers) рд╢рд╛рдорд┐рд▓ рд╣реИрдВ:

* **Truck (рдЯреНрд░рдХ):** рдкреНрд░рддреНрдпреЗрдХ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЛ рд╕реМрдВрдкреА рдЧрдИ рдореБрдЦреНрдп рдбреЗрдЯрд╛рдмреЗрд╕ рдлрд╝рд╛рдЗрд▓ред рдпрд╣ рдЕрдиреНрдп рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рд╕реЗ рднреМрддрд┐рдХ рд░реВрдк рд╕реЗ рдЕрд▓рдЧ (isolated) рд╣реИред
* **Box (рдмреЙрдХреНрд╕):** рдбреЗрдЯрд╛ рдХреЛ рд╡рд░реНрдЧреАрдХреГрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХреА рдЬрд╛рдиреЗ рд╡рд╛рд▓реА рдЯреЗрдмрд▓ (рдЬреИрд╕реЗ: рдЙрддреНрдкрд╛рдж, рдСрд░реНрдбрд░)ред
* **Tag (рдЯреИрдЧ):** рдбреЗрдЯрд╛ рддрдХ рдкрд╣реБрдБрдЪрдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХреА рдЬрд╛рдиреЗ рд╡рд╛рд▓реА рдЕрджреНрд╡рд┐рддреАрдп рдХреБрдВрдЬреА (unique key)ред

## рддреНрд╡рд░рд┐рдд рдЗрдВрд╕реНрдЯреЙрд▓реЗрд╢рди (Quick Install)

рдЕрдкрдиреЗ рд╕рд░реНрд╡рд░ рдкрд░ Zeytin рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдиреЗ рдФрд░ рд╕рднреА рдирд┐рд░реНрднрд░рддрд╛рдУрдВ (Dart, Docker, Nginx, SSL) рдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рд╣реА рдХрдорд╛рдВрдб рдкрд░реНрдпрд╛рдкреНрдд рд╣реИред

рдЗрд╕реЗ рдЕрдкрдиреЗ рд╕рд░реНрд╡рд░ рдкрд░ рдПрдХ рдмрд╛рд░ рдЪрд▓рд╛рдПрдБ:

```bash
wget -qO install.sh [https://raw.githubusercontent.com/JeaFrid/Zeytin/main/server/install.sh](https://raw.githubusercontent.com/JeaFrid/Zeytin/main/server/install.sh) && sudo bash install.sh
```


# 1. рдкрд░рд┐рдЪрдп рдФрд░ рдЖрд░реНрдХрд┐рдЯреЗрдХреНрдЪрд░

Zeytin рдорд╛рдирдХ рд╕рд░реНрд╡рд░ рд╕реЙрдлрд╝реНрдЯрд╡реЗрдпрд░ рд╕реЗ рдХрд╣реАрдВ рдЕрдзрд┐рдХ рд╣реИред рд╣рд╛рд▓рд╛рдБрдХрд┐ рдпрд╣ рдмрд╛рд╣рд░ рд╕реЗ REST API рд╕реЗрд╡рд╛рдПрдВ рдкреНрд░рджрд╛рди рдХрд░рдиреЗ рд╡рд╛рд▓реЗ рдмреИрдХрдПрдВрдб рдЬреИрд╕рд╛ рджрд┐рдЦ рд╕рдХрддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдЗрд╕рдХреЗ рдореВрд▓ рдореЗрдВ рдкреВрд░реА рддрд░рд╣ рд╕реЗ Dart рдореЗрдВ рд▓рд┐рдЦрд╛ рдЧрдпрд╛ рдПрдХ рдХрд╕реНрдЯрдо, рдбрд┐рд╕реНрдХ-рдЖрдзрд╛рд░рд┐рдд, рдЙрдЪреНрдЪ-рдкреНрд░рджрд░реНрд╢рди рд╡рд╛рд▓рд╛ NoSQL рдбреЗрдЯрд╛рдмреЗрд╕ рдЗрдВрдЬрди рдЪрд▓рддрд╛ рд╣реИред

рдЖрдорддреМрд░ рдкрд░, рдЖрдзреБрдирд┐рдХ рдмреИрдХрдПрдВрдб рдЖрд░реНрдХрд┐рдЯреЗрдХреНрдЪрд░ рдореЗрдВ, рдбреЗрдЯрд╛рдмреЗрд╕ рдФрд░ рд╕рд░реНрд╡рд░ рдЕрд▓рдЧ-рдЕрд▓рдЧ рд▓реЗрдпрд░реНрд╕ рд╣реИрдВред Zeytin рд╕рдВрд░рдЪрдирд╛ рдореЗрдВ, рдпрд╣ рднреЗрдж рдореМрдЬреВрдж рдирд╣реАрдВ рд╣реИред рдбреЗрдЯрд╛рдмреЗрд╕ рдЗрдВрдЬрди рд╕реАрдзреЗ рд╕рд░реНрд╡рд░, рдЗрд╕рдХреА рдореЗрдореЛрд░реА рдФрд░ рдЗрд╕рдХреА рдкреНрд░рдХреНрд░рд┐рдпрд╛рдУрдВ рдореЗрдВ рдПрдореНрдмреЗрдб рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред рдпрд╣ рдЗрд╕реЗ рдиреЗрдЯрд╡рд░реНрдХ рд╡рд┐рд▓рдВрдмрддрд╛ (latency) рдХреЗ рдмрд┐рдирд╛, рд╕реАрдзреЗ рдореЗрдореЛрд░реА рдФрд░ рдбрд┐рд╕реНрдХ рдПрдХреНрд╕реЗрд╕ рдХреЗ рд╕рд╛рде рдЕрд╡рд┐рд╢реНрд╡рд╕рдиреАрдп рдЧрддрд┐ рддрдХ рдкрд╣реБрдБрдЪрдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред

Zeytin рдЖрд░реНрдХрд┐рдЯреЗрдХреНрдЪрд░ рдХреЛ рд╕рдордЭрдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ рд╕рд┐рд╕реНрдЯрдо рдмрдирд╛рдиреЗ рд╡рд╛рд▓реЗ рддреАрди рдореВрд▓рднреВрдд рдмреНрд▓реЙрдХреЛрдВ рдХреЛ рдкрд╣рдЪрд╛рдирдирд╛ рд╣реЛрдЧрд╛: **Truck**, **Box**, рдФрд░ **Tag**ред

## рдбреЗрдЯрд╛ рдкрджрд╛рдиреБрдХреНрд░рдо (Data Hierarchy)

рд╕рд┐рд╕реНрдЯрдо рдХреЗ рдбреЗрдЯрд╛ рд╕реНрдЯреЛрд░реЗрдЬ рддрд░реНрдХ рдореЗрдВ рдПрдХ рдкрджрд╛рдиреБрдХреНрд░рдо (hierarchy) рд╣реИ рдЬрд┐рд╕реЗ рд╡рд╛рд╕реНрддрд╡рд┐рдХ рдЬреАрд╡рди рд╕реЗ рдЬреЛрдбрд╝рд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред рд╕рдмрд╕реЗ рдКрдкрд░ Zeytin рд╣реИ, рдЬреЛ рд╕рд┐рд╕реНрдЯрдо рд╕реНрд╡рдпрдВ рд╣реИ; рдЙрд╕рдХреЗ рдиреАрдЪреЗ Truck рд╕рдВрд░рдЪрдирд╛рдПрдВ рд╣реИрдВ, рдЬреЛ рдкреГрдердХ рднрдВрдбрд╛рд░рдг рдЗрдХрд╛рдЗрдпрд╛рдБ рд╣реИрдВ; рдЗрди рдЗрдХрд╛рдЗрдпреЛрдВ рдХреЗ рдЕрдВрджрд░ рд╢реНрд░реЗрдгрд┐рдпрд╛рдВ рд╣реИрдВ, рдпрд╛рдиреА Box рдХреНрд╖реЗрддреНрд░; рдФрд░ рдЕрдВрдд рдореЗрдВ Tag рдФрд░ Value, рдЬреЛ рд╕реНрд╡рдпрдВ рдбреЗрдЯрд╛ рд╣реИрдВред

```text
ZEYTIN (Server)
тФФтФАтФА TRUCK (Truck / рдбреЗрдЯрд╛рдмреЗрд╕ рдлрд╝рд╛рдЗрд▓)
    тФЬтФАтФА BOX (Box / рдХрд▓реЗрдХреНрд╢рди)
    тФВ   тФЬтФАтФА TAG (рд▓реЗрдмрд▓ / рдХреБрдВрдЬреА): VALUE (рдорд╛рди / рдбреЗрдЯрд╛)
    тФВ   тФЬтФАтФА TAG: VALUE
    тФВ   тФФтФАтФА ...
    тФФтФАтФА BOX
        тФФтФАтФА ...
```

### 1. Truck

Truck, Zeytin рдЖрд░реНрдХрд┐рдЯреЗрдХреНрдЪрд░ рдХрд╛ рд╕рдмрд╕реЗ рдмрдбрд╝рд╛ рдФрд░ рд╕рдмрд╕реЗ рдорд╣рддреНрд╡рдкреВрд░реНрдг рдмрд┐рд▓реНрдбрд┐рдВрдЧ рдмреНрд▓реЙрдХ рд╣реИред рдпрд╣ рдХреНрд▓рд╛рд╕рд┐рдХ рдбреЗрдЯрд╛рдмреЗрд╕ рд╕рд┐рд╕реНрдЯрдо рдореЗрдВ Database рдХреА рдЕрд╡рдзрд╛рд░рдгрд╛ рд╕реЗ рдореЗрд▓ рдЦрд╛рддрд╛ рд╣реИред рд╣рд╛рд▓рд╛рдБрдХрд┐, рддрдХрдиреАрдХреА рд░реВрдк рд╕реЗ, рдпрд╣ рдмрд╣реБрдд рдЕрдзрд┐рдХ рдкреНрд░рддрд┐рдирд┐рдзрд┐рддреНрд╡ рдХрд░рддрд╛ рд╣реИред

рдкреНрд░рддреНрдпреЗрдХ Truck рднреМрддрд┐рдХ рд░реВрдк рд╕реЗ рдбрд┐рд╕реНрдХ рдкрд░ рджреЛ рдлрд╝рд╛рдЗрд▓реЛрдВ рд╕реЗ рдмрдирд╛ рд╣реЛрддрд╛ рд╣реИ:
* **рдбреЗрдЯрд╛ рдлрд╝рд╛рдЗрд▓ (.dat):** рд╡рд╣ рд╕реНрдерд╛рди рдЬрд╣рд╛рдБ рдбреЗрдЯрд╛ рдХреЛ рд╕рдВрдкреАрдбрд╝рд┐рдд (compressed) рдмрд╛рдЗрдирд░реА рдлреЙрд░реНрдореЗрдЯ рдореЗрдВ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред
* **рдЗрдВрдбреЗрдХреНрд╕ рдлрд╝рд╛рдЗрд▓ (.idx):** рдбрд┐рд╕реНрдХ рдкрд░ рдбреЗрдЯрд╛ рдХреА рд╕реНрдерд┐рддрд┐ рд░рдЦрдиреЗ рд╡рд╛рд▓рд╛ рдирдХреНрд╢рд╛, рдпрд╛рдиреА рдСрдлрд╕реЗрдЯ рдФрд░ рд▓рдВрдмрд╛рдИ рдХреА рдЬрд╛рдирдХрд╛рд░реАред

**рдЖрдЗрд╕реЛрд▓реЗрд╢рди рдФрд░ рдкреНрд░рджрд░реНрд╢рди:**
Zeytin рдкреНрд░рддреНрдпреЗрдХ рдмрдирд╛рдП рдЧрдП Truck рдХреЗ рд▓рд┐рдП рдкреНрд░реЛрд╕реЗрд╕рд░ рдкрд░ рдПрдХ рдЕрд▓рдЧ Isolate, рдпрд╛рдиреА рдПрдХ рдЕрд▓рдЧ рдкреНрд░реЛрд╕реЗрд╕рд┐рдВрдЧ рдереНрд░реЗрдб рдЦреЛрд▓рддрд╛ рд╣реИред рдЗрд╕рдХрд╛ рдорддрд▓рдм рдпрд╣ рд╣реИ рдХрд┐ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ A рджреНрд╡рд╛рд░рд╛ рдЙрдирдХреЗ Truck рдкрд░ рдХрд┐рдпрд╛ рдЧрдпрд╛ рднрд╛рд░реА рд░реАрдб рдпрд╛ рд░рд╛рдЗрдЯ рдСрдкрд░реЗрд╢рди рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ B рдХреЗ Truck рд╕рдВрд░рдЪрдирд╛ рдХреЛ рдХрднреА рдзреАрдорд╛ рдпрд╛ рд▓реЙрдХ рдирд╣реАрдВ рдХрд░реЗрдЧрд╛ред рдкреНрд░рддреНрдпреЗрдХ Truck рдХреА рдЕрдкрдиреА рдореЗрдореЛрд░реА, рдЕрдкрдирд╛ рдХреИрд╢ (cache) рдФрд░ рдЕрдкрдиреА рдкреНрд░реЛрд╕реЗрд╕рд┐рдВрдЧ рдХрддрд╛рд░ (queue) рд╣реЛрддреА рд╣реИред

рдЬрдм рд╕рд┐рд╕реНрдЯрдо рдореЗрдВ рдХреЛрдИ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЦрд╛рддрд╛ рдмрдирд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдЙрд╕ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЛ рдПрдХ рд╡рд┐рд╢реЗрд╖ Truck рдЖрд╡рдВрдЯрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред рдЗрд╕ рдкреНрд░рдХрд╛рд░, рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХрд╛ рдбреЗрдЯрд╛ рдПрдХ рджреВрд╕рд░реЗ рд╕реЗ рднреМрддрд┐рдХ рдФрд░ рддрд╛рд░реНрдХрд┐рдХ рд░реВрдк рд╕реЗ рдкреВрд░реА рддрд░рд╣ рд╕реЗ рдЕрд▓рдЧ рд╣реЛ рдЬрд╛рддрд╛ рд╣реИред

### 2. Box

Truck рд╕рдВрд░рдЪрдирд╛рдУрдВ рдХреЗ рднреАрддрд░ рдбреЗрдЯрд╛ рдХреЛ рд╡рд░реНрдЧреАрдХреГрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд┐рдП рдЬрд╛рдиреЗ рд╡рд╛рд▓реЗ рддрд╛рд░реНрдХрд┐рдХ рд╡рд░реНрдЧреЛрдВ рдХреЛ Box рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИред рдпрд╣ SQL рдбреЗрдЯрд╛рдмреЗрд╕ рдореЗрдВ Table рдпрд╛ MongoDB рдореЗрдВ Collection рд╕рдВрд░рдЪрдирд╛ рдХреЗ рд╕рдорд╛рди рд╣реИред

рдЖрдк рдПрдХ Truck рдХреЗ рдЕрдВрджрд░ рдЕрд╕реАрдорд┐рдд рд╕рдВрдЦреНрдпрд╛ рдореЗрдВ Box рд░рдЦ рд╕рдХрддреЗ рд╣реИрдВред рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдИ-рдХреЙрдорд░реНрд╕ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЗ рд▓рд┐рдП рдмрдирд╛рдП рдЧрдП Truck рдХреЗ рдЕрдВрджрд░ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд Box рдХреНрд╖реЗрддреНрд░ рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВ:
* `products`
* `orders`
* `settings`

Box рд╕рдВрд░рдЪрдирд╛рдПрдВ рднреМрддрд┐рдХ рд░реВрдк рд╕реЗ рдЕрд▓рдЧ рдлрд╛рдЗрд▓реЗрдВ рдирд╣реАрдВ рд╣реИрдВ; рд╡реЗ Truck рдлрд╝рд╛рдЗрд▓ рдХреЗ рднреАрддрд░ рддрд╛рд░реНрдХрд┐рдХ рд▓реЗрдмрд▓ рд╣реИрдВ рдЬреЛ рдпрд╣ рдмрддрд╛рддреЗ рд╣реИрдВ рдХрд┐ рдбреЗрдЯрд╛ рдХрд┐рд╕ рд╕рдореВрд╣ рд╕реЗ рд╕рдВрдмрдВрдзрд┐рдд рд╣реИред рдЗрд╕ рддрд░рд╣, `products` рдмреЙрдХреНрд╕ рдореЗрдВ рдЦреЛрдЬ рдХрд░рддреЗ рд╕рдордп, рд╕рд┐рд╕реНрдЯрдо `orders` рдмреЙрдХреНрд╕ рдореЗрдВ рдбреЗрдЯрд╛ рдХреЗ рд╕рд╛рде рд╕рдордп рдмрд░реНрдмрд╛рдж рдирд╣реАрдВ рдХрд░рддрд╛ рд╣реИред

### 3. Tag

рдпрд╣ рдбреЗрдЯрд╛ рддрдХ рдкрд╣реБрдБрдЪрдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХреА рдЬрд╛рдиреЗ рд╡рд╛рд▓реА рдЕрджреНрд╡рд┐рддреАрдп рдХреБрдВрдЬреА (unique key) рд╣реИред рдПрдХ Box рдХреЗ рднреАрддрд░ рдбреЗрдЯрд╛ рдХреЗ рдкреНрд░рддреНрдпреЗрдХ рдЯреБрдХрдбрд╝реЗ рдХрд╛ рдЕрдкрдирд╛ рдЕрджреНрд╡рд┐рддреАрдп Tag рдорд╛рди рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдПред рдпрд╣ SQL рд╕рдВрд░рдЪрдирд╛рдУрдВ рдореЗрдВ Primary Key рдпрд╛ Key-Value рд╕рд┐рд╕реНрдЯрдо рдореЗрдВ Key рдХреЗ рддрд░реНрдХ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рддрд╛ рд╣реИред

рдЬрдм Zeytin рдЗрдВрдЬрди рдбреЗрдЯрд╛ рдкрдврд╝рдирд╛ рдЪрд╛рд╣рддрд╛ рд╣реИ, рддреЛ рд╡рд╣ рдХреНрд░рдорд╢рдГ Truck, Box рдФрд░ Tag рдкрде рдХрд╛ рдЕрдиреБрд╕рд░рдг рдХрд░рддрд╛ рд╣реИред рдЗрдВрдбреЗрдХреНрд╕рд┐рдВрдЧ рд╕рд┐рд╕реНрдЯрдо рдХреЗ рд▓рд┐рдП рдзрдиреНрдпрд╡рд╛рдж, рдбреЗрдЯрд╛рдмреЗрд╕ рдХрд╛ рдЖрдХрд╛рд░ рдЪрд╛рд╣реЗ рдХрд┐рддрдирд╛ рднреА рдмрдбрд╝рд╛ рдХреНрдпреЛрдВ рди рд╣реЛ, рдПрдХ Tag рдорд╛рди рдЦреЛрдЬрдиреЗ рдФрд░ рдбреЗрдЯрд╛ рдХреЛ рдкреБрдирдГ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдореЗрдВ рдорд┐рд▓реАрд╕реЗрдХрдВрдб рд▓рдЧрддреЗ рд╣реИрдВред рдРрд╕рд╛ рдЗрд╕рд▓рд┐рдП рд╣реИ рдХреНрдпреЛрдВрдХрд┐ рд╕рд┐рд╕реНрдЯрдо рдкреВрд░реА рдлрд╝рд╛рдЗрд▓ рдХреЛ рд╕реНрдХреИрди рдирд╣реАрдВ рдХрд░рддрд╛ рд╣реИ; рдпрд╣ рд╕реАрдзреЗ Tag рдорд╛рди рдХреЗ рдбрд┐рд╕реНрдХ рдХреЛрдСрд░реНрдбрд┐рдиреЗрдЯ рдкрд░ рдЬрд╛рддрд╛ рд╣реИ рдФрд░ рдХреЗрд╡рд▓ рдЙрд╕ рд╣рд┐рд╕реНрд╕реЗ рдХреЛ рдкрдврд╝рддрд╛ рд╣реИред

---

## рдЙрджрд╛рд╣рд░рдг рдкрд░рд┐рджреГрд╢реНрдп: рдбреЗрдЯрд╛ рдлреНрд▓реЛ

рдЖрдЗрдП рдПрдХ рдЙрджрд╛рд╣рд░рдг рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рджреЗрдЦреЗрдВ рдХрд┐ рд╕рд┐рд╕реНрдЯрдо рдХреИрд╕реЗ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИред рдорд╛рди рд▓реАрдЬрд┐рдП рдХрд┐ рдХреЛрдИ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рдмреЙрдХреНрд╕ рдореЗрдВ рдереАрдо рдЬрд╛рдирдХрд╛рд░реА рд╕рд╣реЗрдЬрдирд╛ рдЪрд╛рд╣рддрд╛ рд╣реИред

1.  **рдЕрдиреБрд░реЛрдз рдЖрддрд╛ рд╣реИ:** рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ `theme` рдЯреИрдЧ рдХреЗ рд╕рд╛рде `{ "mode": "dark" }` рдбреЗрдЯрд╛ рдХреЛ `settings` рдмреЙрдХреНрд╕ рдореЗрдВ рд▓рд┐рдЦрдирд╛ рдЪрд╛рд╣рддрд╛ рд╣реИред
2.  **рд░реВрдЯрд┐рдВрдЧ:** рдореБрдЦреНрдп Zeytin рдХреНрд▓рд╛рд╕ рдпрд╣ рдкрддрд╛ рд▓рдЧрд╛рддреА рд╣реИ рдХрд┐ рдпрд╣ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХрд┐рд╕ **Truck**, рдпрд╛рдиреА рдХрд┐рд╕ рдкрд╣рдЪрд╛рди ID рдХреЗ рд╕рд╛рде рдСрдкрд░реЗрд╢рди рдХрд░ рд░рд╣рд╛ рд╣реИред
3.  **рдкреНрд░реЙрдХреНрд╕реА рд╕рдВрдЪрд╛рд░:** рдореБрдЦреНрдп рд╕рд░реНрд╡рд░ рдбреЗрдЯрд╛ рдХреЛ рд╕реАрдзреЗ рдбрд┐рд╕реНрдХ рдкрд░ рдирд╣реАрдВ рд▓рд┐рдЦрддрд╛ рд╣реИред рдЗрд╕рдХреЗ рдмрдЬрд╛рдп, `TruckProxy` рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ, рдпрд╣ рдЙрд╕ Truck рдХреЗ рд▓рд┐рдП рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ рдЪрд▓ рд░рд╣реЗ рдЖрдЗрд╕реЛрд▓реЗрдЯреЗрдб рдереНрд░реЗрдб рдХреЛ рдПрдХ рд╕рдВрджреЗрд╢ рднреЗрдЬрддрд╛ рд╣реИред
4.  **рдЗрдВрдЬрди рд╕рдХреНрд░рд┐рдп рд╣реЛрддрд╛ рд╣реИ:**
    * рдЖрдЗрд╕реЛрд▓реЗрдЯреЗрдб рдкреНрд░реЛрд╕реЗрд╕рд░ рд╕рдВрджреЗрд╢ рдкреНрд░рд╛рдкреНрдд рдХрд░рддрд╛ рд╣реИред
    * рдпрд╣ рдПрдХ рд╡рд┐рд╢реЗрд╖ **Binary Encoder** рдХреЗ рд╕рд╛рде рдбреЗрдЯрд╛ рдХреЛ рд╕рдВрдкреАрдбрд╝рд┐рдд рдХрд░рддрд╛ рд╣реИ рдФрд░ рдЗрд╕реЗ рдорд╢реАрдиреА рднрд╛рд╖рд╛ рдореЗрдВ рдмрджрд▓ рджреЗрддрд╛ рд╣реИред
    * рдпрд╣ рдбреЗрдЯрд╛ рдХреЛ `.dat` рдлрд╝рд╛рдЗрд▓ рдХреЗ рдмрд┐рд▓реНрдХреБрд▓ рдЕрдВрдд рдореЗрдВ рдЬреЛрдбрд╝рддрд╛ рд╣реИред
    * рдпрд╣ `.idx` рдлрд╝рд╛рдЗрд▓ рдореЗрдВ рдлрд╝рд╛рдЗрд▓ рдореЗрдВ рдбреЗрдЯрд╛ рдХрд╛ рдирдпрд╛ рд╕реНрдерд╛рди рд╕рд╣реЗрдЬрддрд╛ рд╣реИред
    * рдЕрдВрдд рдореЗрдВ, рдпрд╣ рддреЗрдЬрд╝ рдкрд╣реБрдБрдЪ рдХреЗ рд▓рд┐рдП рдбреЗрдЯрд╛ рдХреЛ рдореЗрдореЛрд░реА рдореЗрдВ **LRU Cache** рдореЗрдВ рд▓рд┐рдЦрддрд╛ рд╣реИред

рдЗрд╕ рдЖрд░реНрдХрд┐рдЯреЗрдХреНрдЪрд░ рдХреЗ рд▓рд┐рдП рдзрдиреНрдпрд╡рд╛рдж, Zeytin рдПрдХ рд╕рд╛рде рдлрд╝рд╛рдЗрд▓ рд╕рд┐рд╕реНрдЯрдо рдХреА рджреГрдврд╝рддрд╛ (persistence) рдФрд░ рдЗрди-рдореЗрдореЛрд░реА рдбреЗрдЯрд╛рдмреЗрд╕ рдХреА рдЧрддрд┐ рджреЛрдиреЛрдВ рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИред


# 2. рдЗрдВрд╕реНрдЯреЙрд▓реЗрд╢рди рдФрд░ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди

Zeytin рдПрдХ рдРрд╕рд╛ рд╕рд┐рд╕реНрдЯрдо рд╣реИ рдЬреЛ рдЙрд╕ рдорд╢реАрди рдХреЗ рд╕рд╛рде рдЧрд╣рд░рд╛рдИ рд╕реЗ рдПрдХреАрдХреГрдд рд╣реЛрддрд╛ рд╣реИ рдЬрд┐рд╕ рдкрд░ рд╡рд╣ рдЪрд▓рддрд╛ рд╣реИред рдХреЗрд╡рд▓ рдПрдХ рдХреЛрдб рдлрд╝рд╛рдЗрд▓ рдЪрд▓рд╛рдирд╛ рдкрд░реНрдпрд╛рдкреНрдд рдирд╣реАрдВ рд╣реИ; рдбреЗрдЯрд╛рдмреЗрд╕ рдЗрдВрдЬрди рдХрд╛ рдбрд┐рд╕реНрдХ рдПрдХреНрд╕реЗрд╕, рдореАрдбрд┐рдпрд╛ рд╕рд░реНрд╡рд░ рдХрд╛ Docker рдХрдиреЗрдХреНрд╢рди, рдФрд░ рдмрд╛рд╣рд░реА рджреБрдирд┐рдпрд╛ рдХреЗ рд╕рд╛рде рд╕рдВрдЪрд╛рд░ рдХреЗ рд▓рд┐рдП Nginx рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдЬреИрд╕реЗ рднрд╛рдЧреЛрдВ рдХреЛ рдПрдХ рд╕рд╛рде рдЖрдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред

рдЗрд╕ рдЬрдЯрд┐рд▓ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЛ рдПрдХ рд╣реА рдкрдВрдХреНрддрд┐ рдХреЗ рд╕рд╛рде рд╕рдВрднрд╛рд▓рдиреЗ рдХреЗ рд▓рд┐рдП, рд╣рдордиреЗ `server/install.sh` рдирд╛рдо рдХрд╛ рдПрдХ рдЙрдиреНрдирдд рд╕реНрд╡рдЪрд╛рд▓рди рд╕реНрдХреНрд░рд┐рдкреНрдЯ рддреИрдпрд╛рд░ рдХрд┐рдпрд╛ рд╣реИред рдпрд╣ рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдЖрдкрдХреЗ рд╕рд░реНрд╡рд░ рдХреЛ рд╢реВрдиреНрдп рд╕реЗ рд▓реЗрддреА рд╣реИ рдФрд░ рдЗрд╕реЗ рдЙрддреНрдкрд╛рджрди рд╡рд╛рддрд╛рд╡рд░рдг (production environment) рдХреЗ рд▓рд┐рдП рдкреВрд░реА рддрд░рд╣ рд╕реЗ рддреИрдпрд╛рд░ рдХрд░рддреА рд╣реИред

## рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рдЗрдВрд╕реНрдЯреЙрд▓реЗрд╢рди рд╕реНрдХреНрд░рд┐рдкреНрдЯ

рдЗрдВрд╕реНрдЯреЙрд▓реЗрд╢рди рд╢реБрд░реВ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдмрд╕ рдЕрдкрдиреЗ рд╕рд░реНрд╡рд░ рдкрд░ рдПрдХ рдЕрдзрд┐рдХреГрдд рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ (authorized user) рдХреЗ рд░реВрдк рдореЗрдВ `server/install.sh` рдлрд╝рд╛рдЗрд▓ рдЪрд▓рд╛рдПрдБред рд╕реНрдХреНрд░рд┐рдкреНрдЯ Debian рдФрд░ Ubuntu-рдЖрдзрд╛рд░рд┐рдд рд╕рд┐рд╕реНрдЯрдо рдХреЗ рд▓рд┐рдП рдЕрдиреБрдХреВрд▓рд┐рдд рд╣реИред

```bash
wget -qO install.sh [https://raw.githubusercontent.com/JeaFrid/Zeytin/main/server/install.sh](https://raw.githubusercontent.com/JeaFrid/Zeytin/main/server/install.sh) && sudo bash install.sh
```


рдЬрдм рдЖрдк рдпрд╣ рдХрдорд╛рдВрдб рджреЗрддреЗ рд╣реИрдВ, рддреЛ рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХреНрд░рдорд╢рдГ рдЗрди рдЪрд░рдгреЛрдВ рдХрд╛ рдкрд╛рд▓рди рдХрд░рддреА рд╣реИ:

### 1. рдмреБрдирд┐рдпрд╛рджреА рдирд┐рд░реНрднрд░рддрд╛рдПрдБ рдФрд░ Dart
рд╕рдмрд╕реЗ рдкрд╣рд▓реЗ, рд╕рд┐рд╕реНрдЯрдо `git`, `curl`, `unzip`, `openssl`, рдФрд░ `nginx` рдЬреИрд╕реЗ рдмреБрдирд┐рдпрд╛рджреА рдкреИрдХреЗрдЬреЛрдВ рдХреЛ рдЕрдкрдбреЗрдЯ рдФрд░ рдЗрдВрд╕реНрдЯреЙрд▓ рдХрд░рддрд╛ рд╣реИред рдлрд┐рд░, рдпрд╣ рдЬрд╛рдБрдЪрддрд╛ рд╣реИ рдХрд┐ рдорд╢реАрди рдкрд░ Dart рднрд╛рд╖рд╛ рдЗрдВрд╕реНрдЯреЙрд▓ рд╣реИ рдпрд╛ рдирд╣реАрдВред рдпрджрд┐ рдЗрдВрд╕реНрдЯреЙрд▓ рдирд╣реАрдВ рд╣реИ, рддреЛ рдпрд╣ Google рдХреА рдЖрдзрд┐рдХрд╛рд░рд┐рдХ рд░рд┐рдкреЙрдЬрд┐рдЯрд░реА рдХреЛ рд╕рд┐рд╕реНрдЯрдо рдореЗрдВ рдЬреЛрдбрд╝рддрд╛ рд╣реИ рдФрд░ Dart SDK рдЗрдВрд╕реНрдЯреЙрд▓реЗрд╢рди рдХреЛ рдкреВрд░рд╛ рдХрд░рддрд╛ рд╣реИред

рдЕрдВрдд рдореЗрдВ, рдпрд╣ рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдбрд╛рдпрд░реЗрдХреНрдЯрд░реА рдореЗрдВ рдкреНрд░рд╡реЗрд╢ рдХрд░рддрд╛ рд╣реИ, `dart pub get` рдХрдорд╛рдВрдб рдЪрд▓рд╛рддрд╛ рд╣реИ, рдФрд░ `pubspec.yaml` рдлрд╝рд╛рдЗрд▓ (shelf, crypto, encrypt, рдЖрджрд┐) рдореЗрдВ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рд╕рднреА рд▓рд╛рдЗрдмреНрд░реЗрд░реА рдбрд╛рдЙрдирд▓реЛрдб рдХрд░рддрд╛ рд╣реИ, рдЬрд┐рд╕рд╕реЗ рдкреНрд░реЛрдЬреЗрдХреНрдЯ рд╕рдВрдХрд▓рд┐рдд (compile) рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рддреИрдпрд╛рд░ рд╣реЛ рдЬрд╛рддрд╛ рд╣реИред

### 2. LiveKit рдФрд░ Docker рдПрдХреАрдХрд░рдг (рд╡реИрдХрд▓реНрдкрд┐рдХ)
рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдЖрдкрд╕реЗ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдкреНрд░рд╢реНрди рдкреВрдЫреЗрдЧрд╛:
`Do you want to enable Live Streaming & Calls?`

рдпрджрд┐ рдЖрдк **y** (рд╣рд╛рдБ) рдХрд╣рддреЗ рд╣реИрдВ, рддреЛ рд╕рд┐рд╕реНрдЯрдо рдХреА рдореАрдбрд┐рдпрд╛ рдХреНрд╖рдорддрд╛рдПрдВ рд╕рдХреНрд░рд┐рдп рд╣реЛ рдЬрд╛рддреА рд╣реИрдВ:
* **Docker рдЪреЗрдХ:** рдпрджрд┐ рдорд╢реАрди рдкрд░ Docker рдирд╣реАрдВ рд╣реИ, рддреЛ рдирд╡реАрдирддрдо Docker рд╕рдВрд╕реНрдХрд░рдг рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдЗрдВрд╕реНрдЯреЙрд▓ рд╣реЛ рдЬрд╛рддрд╛ рд╣реИред
* **рдХрдВрдЯреЗрдирд░ рд╕реЗрдЯрдЕрдк:** LiveKit рд╕рд░реНрд╡рд░ рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ Docker рдЗрдореЗрдЬ рдбрд╛рдЙрдирд▓реЛрдб рдХреА рдЬрд╛рддреА рд╣реИ, рдФрд░ `zeytin-livekit` рдирд╛рдо рдХрд╛ рдПрдХ рдХрдВрдЯреЗрдирд░ рд╢реБрд░реВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред
* **Key рдЬрдирд░реЗрд╢рди:** рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдПрдХ рд░реИрдВрдбрдо рдФрд░ рд╕реБрд░рдХреНрд╖рд┐рдд API Key рдФрд░ Secret Key рдЙрддреНрдкрдиреНрди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП `openssl` рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИред
* **Config рдЕрдкрдбреЗрдЯ:** рдпрд╣ рд╕рдмрд╕реЗ рдкреНрд░рднрд╛рд╡рд╢рд╛рд▓реА рд╣рд┐рд╕реНрд╕рд╛ рд╣реИред рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдЗрди рдЙрддреНрдкрдиреНрди рдХреБрдВрдЬрд┐рдпреЛрдВ рдФрд░ рд╕рд░реНрд╡рд░ рдХреЗ рдмрд╛рд╣рд░реА IP рдкрддреЗ рдХреЛ рд▓реЗрддрд╛ рд╣реИ, рдЖрдкрдХреЗ рд╕реНрд░реЛрдд рдХреЛрдб рдореЗрдВ `lib/config.dart` рдлрд╝рд╛рдЗрд▓ рдЦреЛрд▓рддрд╛ рд╣реИ, рдФрд░ рд╕рдВрдмрдВрдзрд┐рдд рд▓рд╛рдЗрдиреЛрдВ рдХреЛ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдЕрдкрдбреЗрдЯ рдХрд░рддрд╛ рд╣реИред рдЖрдкрдХреЛ рдлрд╝рд╛рдЗрд▓ рдЦреЛрд▓рдиреЗ рдФрд░ рдореИрдиреНрдпреБрдЕрд▓ рд░реВрдк рд╕реЗ рд╕реЗрдЯрд┐рдВрдЧ рд╕рдорд╛рдпреЛрдЬрд┐рдд рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реИред

### 3. Nginx рдФрд░ SSL рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди (рд╡реИрдХрд▓реНрдкрд┐рдХ)
рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдЖрдкрд╕реЗ рджреВрд╕рд░рд╛ рдорд╣рддреНрд╡рдкреВрд░реНрдг рдкреНрд░рд╢реНрди рдкреВрдЫрддрд╛ рд╣реИ:
`Do you want to install and configure Nginx with SSL?`

рдпрд╣ рдЪрд░рдг рдЖрдкрдХреЗ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЛ рдмрд╛рд╣рд░реА рджреБрдирд┐рдпрд╛ рдХреЗ рд▓рд┐рдП рд╕реБрд░рдХреНрд╖рд┐рдд рд░реВрдк рд╕реЗ рдЦреЛрд▓рдиреЗ рдХреЗ рд▓рд┐рдП рд╣реИред рдпрджрд┐ рдЖрдк **y** рдХрд╣рддреЗ рд╣реИрдВ:
* **рдбреЛрдореЗрди рдкрд░рд┐рднрд╛рд╖рд╛:** рдпрд╣ рдЖрдкрд╕реЗ рдПрдХ рдбреЛрдореЗрди рдирд╛рдо (рдЙрджрд╛рд╣рд░рдг: api.example.com) рдФрд░ SSL рд╕реВрдЪрдирд╛рдУрдВ рдХреЗ рд▓рд┐рдП рдПрдХ рдИрдореЗрд▓ рдкрддрд╛ рдорд╛рдВрдЧрддрд╛ рд╣реИред
* **рд░рд┐рд╡рд░реНрд╕ рдкреНрд░реЙрдХреНрд╕реА:** рдпрд╣ Nginx рдХреЗ рд▓рд┐рдП рдПрдХ рд╡рд┐рд╢реЗрд╖ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдлрд╝рд╛рдЗрд▓ рдмрдирд╛рддрд╛ рд╣реИред рдпрд╣ рд╕реЗрдЯрд┐рдВрдЧ рдкреЛрд░реНрдЯ 80 рдФрд░ 443 рдкрд░ рдЖрдиреЗ рд╡рд╛рд▓реЗ рдЕрдиреБрд░реЛрдзреЛрдВ рдХреЛ рдкрдХрдбрд╝рддреА рд╣реИ рдФрд░ рдЙрдиреНрд╣реЗрдВ рдкреГрд╖реНрдарднреВрдорд┐ рдореЗрдВ рдкреЛрд░реНрдЯ 12852 рдкрд░ рдЪрд▓ рд░рд╣реЗ Zeytin рд╕рд░реНрд╡рд░ рдкрд░ рдЕрдЧреНрд░реЗрд╖рд┐рдд рдХрд░рддреА рд╣реИред WebSocket рдХрдиреЗрдХреНрд╢рди рди рдЯреВрдЯрдиреЗ рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ рд╣реЗрдбрд░ рд╕реЗрдЯрд┐рдВрдЧреНрд╕ (Upgrade, Connection) рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдЬреЛрдбрд╝реА рдЬрд╛рддреА рд╣реИрдВред
* **рдЖрдЗрд╕реЛрд▓реЗрдЯреЗрдб Certbot:** рдпрд╣ `/opt/certbot` рдХреЗ рддрд╣рдд рдПрдХ рд╡рд░реНрдЪреБрдЕрд▓ Python рд╡рд╛рддрд╛рд╡рд░рдг (venv) рд╕реЗрдЯ рдХрд░рддрд╛ рд╣реИ рддрд╛рдХрд┐ рдЖрдкрдХреЗ рд╕рд┐рд╕реНрдЯрдо рдХреА Python рд▓рд╛рдЗрдмреНрд░реЗрд░реА рдЦрд░рд╛рдм рди рд╣реЛред рдпрд╣ рдЗрд╕ рдкреГрдердХ рдХреНрд╖реЗрддреНрд░ рдореЗрдВ Certbot рд╕реНрдерд╛рдкрд┐рдд рдХрд░рддрд╛ рд╣реИред
* **SSL рдкреНрд░рдорд╛рдгрдкрддреНрд░:** рдпрд╣ Let's Encrypt рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдПрдХ рдореБрдлреНрдд SSL рдкреНрд░рдорд╛рдгрдкрддреНрд░ рдкреНрд░рд╛рдкреНрдд рдХрд░рддрд╛ рд╣реИ рдФрд░ HTTPS рдЯреНрд░реИрдлрд╝рд┐рдХ рдХреЛ рдЕрдирд┐рд╡рд╛рд░реНрдп рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП Nginx рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рдХреЛ рдЕрдкрдбреЗрдЯ рдХрд░рддрд╛ рд╣реИред

## рдирд┐рд░реНрднрд░рддрд╛ рдкреНрд░рдмрдВрдзрди (Dependency Management)

рд╕рд┐рд╕реНрдЯрдо рдХреЗ рдХрд╛рдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ рдкреИрдХреЗрдЬ `pubspec.yaml` рдлрд╝рд╛рдЗрд▓ рдореЗрдВ рдкрд░рд┐рднрд╛рд╖рд┐рдд рд╣реИрдВред Zeytin рдХреА рд╢рдХреНрддрд┐ рд╕рд╣реА рдЙрджреНрджреЗрд╢реНрдп рдХреЗ рд▓рд┐рдП рд╕рд╣реА рдкреИрдХреЗрдЬ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рд╕реЗ рдЖрддреА рд╣реИ:

* **shelf & shelf_router:** рд╕рд░реНрд╡рд░ рджреНрд╡рд╛рд░рд╛ HTTP рдЕрдиреБрд░реЛрдзреЛрдВ рдХреЛ рд╕реБрдирдиреЗ рдФрд░ рд░реВрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред рдпрд╣ рд╡реЗрдм рд╕рд░реНрд╡рд░ рдХрд╛ рдврд╛рдВрдЪрд╛ рд╣реИред
* **shelf_web_socket:** рд░реАрдпрд▓-рдЯрд╛рдЗрдо рдбреЗрдЯрд╛ рдлреНрд▓реЛ рдФрд░ "Watch" рддрдВрддреНрд░ рдХреЗ рд▓рд┐рдП рд╕реЙрдХреЗрдЯ рдХрдиреЗрдХреНрд╢рди рдХрд╛ рдкреНрд░рдмрдВрдзрди рдХрд░рддрд╛ рд╣реИред
* **encrypt:** `ZeytinTokener` рдХреНрд▓рд╛рд╕ рджреНрд╡рд╛рд░рд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдП рдЬрд╛рдиреЗ рд╡рд╛рд▓реЗ AES рдПрдиреНрдХреНрд░рд┐рдкреНрд╢рди рдПрд▓реНрдЧреЛрд░рд┐рджрдо рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИред
* **dart_jsonwebtoken:** LiveKit рдХреЗ рд╕рд╛рде рд╕реБрд░рдХреНрд╖рд┐рдд рд╕рдВрдЪрд╛рд░ рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП JWT рдЯреЛрдХрди рдмрдирд╛рддрд╛ рд╣реИред
* **dio:** рд╕рд░реНрд╡рд░ рдХреЛ рдЕрдкрдиреЗ рднреАрддрд░ рдпрд╛ рдмрд╛рд╣рд░реА рджреБрдирд┐рдпрд╛ рдореЗрдВ рдЕрдиреНрдп рд╕реЗрд╡рд╛рдУрдВ рдХреЗ рд▓рд┐рдП HTTP рдЕрдиреБрд░реЛрдз рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред

рдПрдХ рдмрд╛рд░ рдЗрдВрд╕реНрдЯреЙрд▓реЗрд╢рди рдкреВрд░рд╛ рд╣реЛ рдЬрд╛рдиреЗ рдХреЗ рдмрд╛рдж, рдЖрдк рд╕рд░реНрд╡рд░ рдХреЛ рдкреНрд░рдмрдВрдзрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП `server/runner.dart` рдЯреВрд▓ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рддреИрдпрд╛рд░ рд╣реИрдВред


# 3. рд╕реНрдЯреЛрд░реЗрдЬ рдЗрдВрдЬрди

Zeytin рдХреЛ рдЕрдиреНрдп рд╕рд░реНрд╡рд░ рд╕рдорд╛рдзрд╛рдиреЛрдВ рд╕реЗ рдЕрд▓рдЧ рдХрд░рдиреЗ рд╡рд╛рд▓реА рд╕рдмрд╕реЗ рдореМрд▓рд┐рдХ рд╡рд┐рд╢реЗрд╖рддрд╛ рдпрд╣ рд╣реИ рдХрд┐ рдЗрд╕рдХреЗ рдкрд╛рд╕ рдЕрдкрдирд╛ рд╕реНрд╡рдпрдВ рдХрд╛ рдбреЗрдЯрд╛рдмреЗрд╕ рдЗрдВрдЬрди рд╣реИред рдпрд╣ рдЗрдВрдЬрди рдПрдХ рд╡рд┐рд╢реЗрд╖ рдмрд╛рдЗрдирд░реА рдлреЙрд░реНрдореЗрдЯ рдФрд░ рдЙрдЪреНрдЪ-рдкреНрд░рджрд░реНрд╢рди рдЖрдЗрд╕реЛрд▓реЗрд╢рди рддрдХрдиреАрдХреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдСрдкрд░реЗрдЯрд┐рдВрдЧ рд╕рд┐рд╕реНрдЯрдо рдХреЗ рдлрд╝рд╛рдЗрд▓ рд╕рд┐рд╕реНрдЯрдо рдкрд░ рдбреЗрдЯрд╛ рдХрд╛ рдкреНрд░рдмрдВрдзрди рдХрд░рддрд╛ рд╣реИред

рд╕рд┐рд╕реНрдЯрдо рдХреА `lib/logic/engine.dart` рдлрд╝рд╛рдЗрд▓ рдореЗрдВ рд╕реНрдерд┐рдд, рдпрд╣ рд╕рдВрд░рдЪрдирд╛ рдЪрд╛рд░ рдореБрдЦреНрдп рддрдВрддреНрд░реЛрдВ рдкрд░ рдмрдирд╛рдИ рдЧрдИ рд╣реИ: **Binary Encoder**, **Persistent Index**, **Isolate Architecture**, рдФрд░ **Compaction**ред

## 3.1. рдмрд╛рдЗрдирд░реА рдбреЗрдЯрд╛ рдлреЙрд░реНрдореЗрдЯ

Zeytin рдбрд┐рд╕реНрдХ рдкрд░ рдбреЗрдЯрд╛ рд▓рд┐рдЦрддреЗ рд╕рдордп JSON рдпрд╛ XML рдЬреИрд╕реЗ рдЯреЗрдХреНрд╕реНрдЯ-рдЖрдзрд╛рд░рд┐рдд рдлреЙрд░реНрдореЗрдЯ рдХрд╛ рдЙрдкрдпреЛрдЧ рдирд╣реАрдВ рдХрд░рддрд╛ рд╣реИред рдЗрд╕рдХреЗ рдмрдЬрд╛рдп, рдбрд┐рд╕реНрдХ рд╕реНрдкреЗрд╕ рдмрдЪрд╛рдиреЗ рдФрд░ рд░реАрдб-рд░рд╛рдЗрдЯ рд╕реНрдкреАрдб рдмрдврд╝рд╛рдиреЗ рдХреЗ рд▓рд┐рдП, рдпрд╣ `BinaryEncoder` рдХреНрд▓рд╛рд╕ рджреНрд╡рд╛рд░рд╛ рдкреНрд░рдмрдВрдзрд┐рдд рдПрдХ рдХрд╕реНрдЯрдо рдкреНрд░реЛрдЯреЛрдХреЙрд▓ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИред

рдбреЗрдЯрд╛ рдХреЛ `ByteData` рдФрд░ `Uint8List` рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд╕рдВрд╕рд╛рдзрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рдФрд░ Little Endian рдХреНрд░рдо рдореЗрдВ рдкреИрдХ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред рдбреЗрдЯрд╛ рдЕрдЦрдВрдбрддрд╛ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╣рд░ рдбреЗрдЯрд╛ рдмреНрд▓реЙрдХ `0xDB`, рдпрд╛рдиреА Magic Byte рдХреЗ рд╕рд╛рде рд╢реБрд░реВ рд╣реЛрддрд╛ рд╣реИред рдпрд╣ рдореИрдЬрд┐рдХ рдмрд╛рдЗрдЯ рдЗрдВрдЬрди рдХреЛ рдбреЗрдЯрд╛ рднреНрд░рд╖реНрдЯрд╛рдЪрд╛рд░ (corruption) рдХрд╛ рдкрддрд╛ рд▓рдЧрд╛рдиреЗ рдореЗрдВ рдорджрдж рдХрд░рддрд╛ рд╣реИред

рдбрд┐рд╕реНрдХ рдкрд░ рдбреЗрдЯрд╛ рдмреНрд▓реЙрдХ рдХреА рд╕рдВрд░рдЪрдирд╛ рдЗрд╕ рдкреНрд░рдХрд╛рд░ рд╣реИ:

| MAGIC (1 Byte) | BOX_ID_LEN (4 Byte) | BOX_ID (N Byte) | TAG_LEN (4 Byte) | TAG (N Byte) | DATA_LEN (4 Byte) | DATA (N Byte) |
|----------------|---------------------|-----------------|------------------|--------------|-------------------|---------------|
| 0xDB           | 0x00000008          | "settings"      | 0x00000005       | "theme"      | 0x0000000E        | {Binary Map}  |


рдЗрд╕ рд╕рдВрд░рдЪрдирд╛ рдХреЗ рд▓рд┐рдП рдзрдиреНрдпрд╡рд╛рдж, рдЬрдм рдЗрдВрдЬрди рдбрд┐рд╕реНрдХ рдкрд░ рдХрд┐рд╕реА рдпрд╛рджреГрдЪреНрдЫрд┐рдХ рд╕реНрдерд╛рди рдкрд░ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рд╡рд╣ рддреНрд░реБрдЯрд┐рдкреВрд░реНрдг рдврдВрдЧ рд╕реЗ рд╕рдордЭ рд╕рдХрддрд╛ рд╣реИ рдХрд┐ рдбреЗрдЯрд╛ рдХрд╣рд╛рдБ рд╕реЗ рд╢реБрд░реВ рд╣реЛрддрд╛ рд╣реИ, рдпрд╣ рдХрд┐рд╕ рдмреЙрдХреНрд╕ рдФрд░ рдЯреИрдЧ рд╕реЗ рд╕рдВрдмрдВрдзрд┐рдд рд╣реИ, рдФрд░ рдбреЗрдЯрд╛ рдХрд╣рд╛рдБ рд╕рдорд╛рдкреНрдд рд╣реЛрддрд╛ рд╣реИред

рд╕рд┐рд╕реНрдЯрдо рдореЗрдВ рд╕рдорд░реНрдерд┐рдд рдбреЗрдЯрд╛ рдкреНрд░рдХрд╛рд░ рдФрд░ рдЙрдирдХреА рдкрд╣рдЪрд╛рди рд╕рдВрдЦреНрдпрд╛рдПрдВ рд╣реИрдВ:
* `NULL` (0)
* `BOOL` (1)
* `INT` (2) - 64-рдмрд┐рдЯ рдкреВрд░реНрдгрд╛рдВрдХ
* `DOUBLE` (3) - 64-рдмрд┐рдЯ рдлреНрд▓реЛрдЯрд┐рдВрдЧ-рдкреЙрдЗрдВрдЯ рд╕рдВрдЦреНрдпрд╛
* `STRING` (4) - UTF8 рдПрдирдХреЛрдбреЗрдб рдЯреЗрдХреНрд╕реНрдЯ
* `LIST` (5) - рдбрд╛рдпрдирд╛рдорд┐рдХ рд╕реВрдЪрд┐рдпрд╛рдБ
* `MAP` (6) - рдХреБрдВрдЬреА-рдорд╛рди рдорд╛рдирдЪрд┐рддреНрд░ (Key-value maps)

## 3.2. рд╕реНрдерд╛рдпреА рдЗрдВрдбреЗрдХреНрд╕рд┐рдВрдЧ (Persistent Indexing)

рдбреЗрдЯрд╛рдмреЗрд╕ рдЗрдВрдЬрди рдХреА рд╕рдмрд╕реЗ рдмрдбрд╝реА рд╕рдорд╕реНрдпрд╛ рдпрд╣ рд╣реИ рдХрд┐ рдЬреИрд╕реЗ-рдЬреИрд╕реЗ рдбреЗрдЯрд╛ рдмрдврд╝рддрд╛ рд╣реИ, рдЦреЛрдЬ рдХрд╛ рд╕рдордп рдмрдврд╝рддрд╛ рдЬрд╛рддрд╛ рд╣реИред Zeytin рдЗрд╕ рд╕рдорд╕реНрдпрд╛ рдХреЛ `PersistentIndex` рдХреНрд▓рд╛рд╕ рдХреЗ рд╕рд╛рде рд╣рд▓ рдХрд░рддрд╛ рд╣реИред

рд╕рд┐рд╕реНрдЯрдо рдбреЗрдЯрд╛ рдлрд╝рд╛рдЗрд▓ (`.dat`) рдХреЗ рд╕рд╛рде-рд╕рд╛рде рдПрдХ рдЗрдВрдбреЗрдХреНрд╕ рдлрд╝рд╛рдЗрд▓ (`.idx`) рднреА рд░рдЦрддрд╛ рд╣реИред рдпрд╣ рдЗрдВрдбреЗрдХреНрд╕ рдлрд╝рд╛рдЗрд▓ рдбреЗрдЯрд╛ рдХреЛ рдирд╣реАрдВ, рдмрд▓реНрдХрд┐ рдбрд┐рд╕реНрдХ рдкрд░ рдбреЗрдЯрд╛ рдХреЗ **рдкрддреЗ** (offset) рдФрд░ **рдЖрдХрд╛рд░** (length) рдХреЛ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рддреА рд╣реИред

рдЬрдм рд╕рд░реНрд╡рд░ рд╢реБрд░реВ рд╣реЛрддрд╛ рд╣реИ рдпрд╛ рдХреЛрдИ Truck рд▓реЛрдб рд╣реЛрддрд╛ рд╣реИ, рддреЛ рдпрд╣ рдЗрдВрдбреЗрдХреНрд╕ рдлрд╝рд╛рдЗрд▓ рдкреВрд░реА рддрд░рд╣ рд╕реЗ рдореЗрдореЛрд░реА, рдпрд╛рдиреА RAM рдореЗрдВ рд▓реЗ рд▓реА рдЬрд╛рддреА рд╣реИред рдЗрд╕ рдкреНрд░рдХрд╛рд░, рдЬрдм рдЖрдк рдбреЗрдЯрд╛ рдПрдХреНрд╕реЗрд╕ рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ, рддреЛ рд╕рд┐рд╕реНрдЯрдо рдбрд┐рд╕реНрдХ рдХреЛ рд╕реНрдХреИрди рдирд╣реАрдВ рдХрд░рддрд╛ рд╣реИ; рдпрд╣ рд╕реАрдзреЗ рдореЗрдореЛрд░реА рдореЗрдВ рдореИрдк рд╕реЗ рдбреЗрдЯрд╛ рдХреЗ рдирд┐рд░реНрджреЗрд╢рд╛рдВрдХ рдкреНрд░рд╛рдкреНрдд рдХрд░рддрд╛ рд╣реИ рдФрд░ рдбрд┐рд╕реНрдХ рд╕реЗ рдХреЗрд╡рд▓ рдЙрд╕ рдмрд┐рдВрджреБ рдХреЛ рдкрдврд╝рддрд╛ рд╣реИред рдпрд╣ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рддрд╛ рд╣реИ рдХрд┐ рдбреЗрдЯрд╛ рдХрд╛ рдЖрдХрд╛рд░ рдЧреАрдЧрд╛рдмрд╛рдЗрдЯ рд╣реЛрдиреЗ рдкрд░ рднреА рдПрдХреНрд╕реЗрд╕ рд╕рдордп рдорд┐рд▓реАрд╕реЗрдХрдВрдб рдХреЗ рд╕реНрддрд░ рдкрд░ рдмрдирд╛ рд░рд╣реЗред

рдПрдХ рдирдореВрдирд╛ рдЗрдВрдбреЗрдХреНрд╕ рдореИрдк рдореЗрдореЛрд░реА рдореЗрдВ рдЗрд╕ рддрд░рд╣ рджрд┐рдЦрддрд╛ рд╣реИ:

```text
Box: "users"
  тФФтФАтФА Tag: "user_123" -> [Offset: 1024, Length: 256]
  тФФтФАтФА Tag: "user_456" -> [Offset: 1280, Length: 512]
```

## 3.3. Isolate рдФрд░ рдкреНрд░реЙрдХреНрд╕реА рдЖрд░реНрдХрд┐рдЯреЗрдХреНрдЪрд░

рд╕реНрд╡рд╛рднрд╛рд╡рд┐рдХ рд░реВрдк рд╕реЗ, Dart рднрд╛рд╖рд╛ рдореЗрдВ рд╕рд┐рдВрдЧрд▓-рдереНрд░реЗрдбреЗрдб рд╕рдВрд░рдЪрдирд╛ рд╣реЛрддреА рд╣реИред рднрд╛рд░реА рдбрд┐рд╕реНрдХ рдСрдкрд░реЗрд╢рди (I/O) рдореБрдЦреНрдп рдереНрд░реЗрдб рдХреЛ рдмреНрд▓реЙрдХ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рд╕рд░реНрд╡рд░ рдХреЛ рдЕрдиреНрдп рдЖрдиреЗ рд╡рд╛рд▓реЗ рдЕрдиреБрд░реЛрдзреЛрдВ рдХрд╛ рдЬрд╡рд╛рдм рджреЗрдиреЗ рдореЗрдВ рд╡рд┐рдлрд▓ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред рдЗрд╕ рдмрд╛рдзрд╛ рдХреЛ рджреВрд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП Zeytin **Actor Model** рдХреЗ рд╕рдорд╛рди рд╕рдВрд░рдЪрдирд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИред

рдкреНрд░рддреНрдпреЗрдХ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдбреЗрдЯрд╛рдмреЗрд╕, рдпрд╛ Truck, рдореБрдЦреНрдп рд╕рд░реНрд╡рд░ рд╕реЗ рд╕реНрд╡рддрдВрддреНрд░ рдПрдХ рд╡рд┐рд╢рд┐рд╖реНрдЯ **Isolate** рдХреЗ рдЕрдВрджрд░ рдЪрд▓рддрд╛ рд╣реИред Isolates рдореЗрдореЛрд░реА рд╕рд╛рдЭрд╛ рдирд╣реАрдВ рдХрд░рддреЗ рд╣реИрдВ; рд╡реЗ рдПрдХ рджреВрд╕рд░реЗ рдХреЛ рд╕рдВрджреЗрд╢ рднреЗрдЬрдХрд░ рд╕рдВрд╡рд╛рдж рдХрд░рддреЗ рд╣реИрдВред

1.  **TruckProxy:** рдореБрдЦреНрдп рд╕рд░реНрд╡рд░ рд╕рд╛рдЗрдб рдкрд░ рдЪрд▓рддрд╛ рд╣реИред рдЕрдиреБрд░реЛрдз рдкреНрд░рд╛рдкреНрдд рдХрд░рддрд╛ рд╣реИ рдФрд░ рдЙрдиреНрд╣реЗрдВ рд╕рдВрджреЗрд╢ рдХрддрд╛рд░ рдореЗрдВ рдкрд░рд┐рд╡рд░реНрддрд┐рдд рдХрд░рддрд╛ рд╣реИред
2.  **SendPort / ReceivePort:** рдореБрдЦреНрдп рд╕рд░реНрд╡рд░ рдФрд░ рдкреГрдердХ рдЗрдВрдЬрди рдХреЗ рдмреАрдЪ рд╕рдВрдЪрд╛рд░ рдкреБрд▓ред
3.  **TruckIsolate:** рдкреВрд░реА рддрд░рд╣ рд╕реЗ рдЕрд▓рдЧ рдореЗрдореЛрд░реА рдФрд░ рдкреНрд░реЛрд╕реЗрд╕рд┐рдВрдЧ рдХрддрд╛рд░ рдХреЗ рд╕рд╛рде рдкреГрд╖реНрдарднреВрдорд┐ рдореЗрдВ рдЪрд▓рдиреЗ рд╡рд╛рд▓рд╛ рдЗрдВрдЬрдиред

рдЗрд╕ рдЖрд░реНрдХрд┐рдЯреЗрдХреНрдЪрд░ рдХреЗ рд▓рд┐рдП рдзрдиреНрдпрд╡рд╛рдж, рдбреЗрдЯрд╛рдмреЗрд╕ рдореЗрдВ рдПрдХ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рджреНрд╡рд╛рд░рд╛ рдХрд┐рдпрд╛ рдЧрдпрд╛ рдмрд╣реБрдд рднрд╛рд░реА рдмрд▓реНрдХ рд░рд╛рдЗрдЯ рдСрдкрд░реЗрд╢рди рд╕рд░реНрд╡рд░ рдкрд░ рдЕрдиреНрдп рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреЗ рд╕рдВрдЪрд╛рд▓рди рдпрд╛ рддрддреНрдХрд╛рд▓ рд╡реАрдбрд┐рдпреЛ рдХреЙрд▓ рдХреЛ рдХрднреА рдзреАрдорд╛ рдирд╣реАрдВ рдХрд░рддрд╛ рд╣реИред

## 3.4. рдПрдкреЗрдВрдб-рдУрдирд▓реА рд░рд╛рдЗрдЯрд┐рдВрдЧ рдФрд░ рдХреЙрдореНрдкреЗрдХреНрд╢рди (Append-Only Writing and Compaction)

рдбреЗрдЯрд╛ рд╕реБрд░рдХреНрд╖рд╛ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП Zeytin рдЗрдВрдЬрди **Append-Only** рддрд░реНрдХ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рддрд╛ рд╣реИред рдЬрдм рдЖрдк рдбреЗрдЯрд╛ рдЕрдкрдбреЗрдЯ рдпрд╛ рдбрд┐рд▓реАрдЯ рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рдкреБрд░рд╛рдирд╛ рдбреЗрдЯрд╛ рддреБрд░рдВрдд рдбрд┐рд╕реНрдХ рд╕реЗ рдбрд┐рд▓реАрдЯ рдирд╣реАрдВ рд╣реЛрддрд╛ рд╣реИред рдЗрд╕рдХреЗ рдмрдЬрд╛рдп, рдбреЗрдЯрд╛ рдХреА рдирдИ рд╕реНрдерд┐рддрд┐ рдпрд╛ рдпрд╣ рд╕рдВрдХреЗрдд рдХрд┐ рдЗрд╕реЗ рд╣рдЯрд╛ рджрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ, рдлрд╝рд╛рдЗрд▓ рдХреЗ рдмрд┐рд▓реНрдХреБрд▓ рдЕрдВрдд рдореЗрдВ рдЬреЛрдбрд╝рд╛ рдЬрд╛рддрд╛ рд╣реИ, рдФрд░ рдЗрдВрдбреЗрдХреНрд╕ рдЕрдкрдбреЗрдЯ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред

рдпрд╣ рд╡рд┐рдзрд┐ рдбреЗрдЯрд╛ рд╣рд╛рдирд┐ рдХреЗ рдЬреЛрдЦрд┐рдо рдХреЛ рдХрдо рдХрд░рддреА рд╣реИ рд▓реЗрдХрд┐рди рд╕рдордп рдХреЗ рд╕рд╛рде рдбреЗрдЯрд╛ рдлрд╝рд╛рдЗрд▓ рдХреЛ рд╕реВрдЬрдиреЗ рдФрд░ рдЕрдВрджрд░ "рдореГрдд" рдбреЗрдЯрд╛ рдЬрдорд╛ рд╣реЛрдиреЗ рдХрд╛ рдХрд╛рд░рдг рдмрдирддреА рд╣реИред

рдЗрд╕реЗ рд░реЛрдХрдиреЗ рдХреЗ рд▓рд┐рдП, `Truck` рдХреНрд▓рд╛рд╕ рдХреЗ рднреАрддрд░ рдПрдХ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд **Compaction** рддрдВрддреНрд░ рд╣реИ:
1.  рд╕рд┐рд╕реНрдЯрдо рд╣рд░ 500 рд░рд╛рдЗрдЯ рдСрдкрд░реЗрд╢рди рдХреЗ рдмрд╛рдж рдЯреНрд░рд┐рдЧрд░ рд╣реЛрддрд╛ рд╣реИред
2.  рдЗрдВрдЬрди рдПрдХ рдЕрд╕реНрдерд╛рдпреА рдлрд╝рд╛рдЗрд▓ (`_temp.dat`) рдмрдирд╛рддрд╛ рд╣реИред
3.  рдпрд╣ рдХреЗрд╡рд▓ рдЙрд╕ рдбреЗрдЯрд╛ рдХреЛ рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рдХрд░рддрд╛ рд╣реИ рдЬреЛ **рд╕рдХреНрд░рд┐рдп рдФрд░ рдорд╛рдиреНрдп** рд╣реИ, рдпрд╛рдиреА рдЬрд┐рд╕рдХреА рдЕрдВрддрд┐рдо рд╕реНрдерд┐рддрд┐ рдЗрдВрдбреЗрдХреНрд╕ рдореЗрдВ рджрд░реНрдЬ рд╣реИ, рдЗрд╕ рдирдИ рдлрд╝рд╛рдЗрд▓ рдореЗрдВред
4.  рдкреБрд░рд╛рдиреЗ рдФрд░ рдЕрдирд╛рд╡рд╢реНрдпрдХ рдбреЗрдЯрд╛ рдкреАрдЫреЗ рдЫреВрдЯ рдЬрд╛рддреЗ рд╣реИрдВред
5.  рдЬрдм рдкреНрд░рдХреНрд░рд┐рдпрд╛ рд╕рдорд╛рдкреНрдд рд╣реЛ рдЬрд╛рддреА рд╣реИ, рддреЛ рдкреБрд░рд╛рдиреА рдлрд╝рд╛рдЗрд▓ рд╣рдЯрд╛ рджреА рдЬрд╛рддреА рд╣реИ, рдФрд░ рдирдИ рдлрд╝рд╛рдЗрд▓ рдХреЛ рдореБрдЦреНрдп рдбреЗрдЯрд╛ рдлрд╝рд╛рдЗрд▓ рдХреЗ рд░реВрдк рдореЗрдВ рдирд╛рдо рджрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред

рдЪреВрдВрдХрд┐ рдпрд╣ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдкреГрд╖реНрдарднреВрдорд┐ рдореЗрдВ рдФрд░ рдПрдХ рдЕрд▓рдЧ рддрд░реАрдХреЗ рд╕реЗ рд╣реЛрддреА рд╣реИ, рдЗрд╕рд▓рд┐рдП рд╕рд┐рд╕реНрдЯрдо рдмрд┐рдирд╛ рдХрд┐рд╕реА рд░реБрдХрд╛рд╡рдЯ рдХреЗ рдЦреБрдж рдХреЛ рд╕рд╛рдл рдФрд░ рдЕрдиреБрдХреВрд▓рд┐рдд рдХрд░рддрд╛ рд╣реИред


# 4. рд╕реБрд░рдХреНрд╖рд╛ рдФрд░ рдкреНрд░рдорд╛рдгреАрдХрд░рдг

Zeytin рджреЛ рдореБрдЦреНрдп рддрдВрддреНрд░реЛрдВ рдкрд░ рдмрдирд╛рдпрд╛ рдЧрдпрд╛ рд╣реИ рдЬреЛ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреА рд╕рдмрд╕реЗ рдмрд╛рд╣рд░реА рдкрд░рдд рд╕реЗ рд▓реЗрдХрд░ рдбреЗрдЯрд╛ рд╕реНрдЯреЛрд░реЗрдЬ рдХреЗ рд╕рдмрд╕реЗ рдЧрд╣рд░реЗ рд░реВрдк рддрдХ рд╕реБрд░рдХреНрд╖рд╛ рдХреЛ рд╕рдВрдмреЛрдзрд┐рдд рдХрд░рддреЗ рд╣реИрдВ: **Gatekeeper** рдФрд░ **Tokener**ред

рдЗрд╕ рдЕрдиреБрднрд╛рдЧ рдореЗрдВ, рд╣рдо Gatekeeper рд╕рдВрд░рдЪрдирд╛ рдХреА рдЬрд╛рдВрдЪ рдХрд░реЗрдВрдЧреЗ рдЬреЛ рдЖрдкрдХреЗ рд╕рд░реНрд╡рд░ рдХреЛ рджреБрд░реНрднрд╛рд╡рдирд╛рдкреВрд░реНрдг рд╣рдорд▓реЛрдВ рд╕реЗ рдмрдЪрд╛рддреА рд╣реИ рдФрд░ Tokener рддрдВрддреНрд░ рдЬреЛ рдпрд╣ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рддрд╛ рд╣реИ рдХрд┐ рдЖрдкрдХрд╛ рдбреЗрдЯрд╛ рдиреЗрдЯрд╡рд░реНрдХ рдкрд░ рдПрдиреНрдХреНрд░рд┐рдкреНрдЯ рд╣реЛрдХрд░ рдЯреНрд░рд╛рдВрд╕рдкреЛрд░реНрдЯ рд╣реЛред

## 4.1. Gatekeeper: рд░рдХреНрд╖рд╛ рдХреА рдкрд╣рд▓реА рдкрдВрдХреНрддрд┐

Gatekeeper рдкрд╣рд▓рд╛ рдШрдЯрдХ рд╣реИ рдЬреЛ рдЖрдкрдХреЗ рд╕рд░реНрд╡рд░ рдкрд░ рдЖрдиреЗ рд╡рд╛рд▓реЗ рд╣рд░ рдЕрдиреБрд░реЛрдз рдХрд╛ рд╕реНрд╡рд╛рдЧрдд рдХрд░рддрд╛ рд╣реИред рдпрд╣ рдПрдХ рдирд╛рдЗрдЯ рдХреНрд▓рдм рдореЗрдВ рдмрд╛рдЙрдВрд╕рд░ рдХреА рддрд░рд╣ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ; рдпрд╣ рддрдп рдХрд░рддрд╛ рд╣реИ рдХрд┐ рдХреМрди рдкреНрд░рд╡реЗрд╢ рдХрд░ рд╕рдХрддрд╛ рд╣реИ, рдХреМрди рдирд╣реАрдВ, рдФрд░ рд╡реЗ рдХрд┐рддрдиреА рдмрд╛рд░ рдЕрдиреБрд░реЛрдз рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред

`lib/logic/gatekeeper.dart` рдлрд╝рд╛рдЗрд▓ рдореЗрдВ рд╕реНрдерд┐рдд, рдпрд╣ рд╕рдВрд░рдЪрдирд╛ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдЦрддрд░реЛрдВ рдХреЗ рдЦрд┐рд▓рд╛рдл рд╕рдХреНрд░рд┐рдп рд╕реБрд░рдХреНрд╖рд╛ рдкреНрд░рджрд╛рди рдХрд░рддреА рд╣реИ:

### DoS рдФрд░ DDoS рд╕реБрд░рдХреНрд╖рд╛ (Sleep Mode)
Zeytin рдПрдХ рд╡реИрд╢реНрд╡рд┐рдХ рдХрд╛рдЙрдВрдЯрд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд╕рд░реНрд╡рд░ рдкрд░ рдЖрдиреЗ рд╡рд╛рд▓реЗ рдЕрдиреБрд░реЛрдзреЛрдВ рдХреА рдХреБрд▓ рд╕рдВрдЦреНрдпрд╛ рдХреЛ рддреБрд░рдВрдд рдЯреНрд░реИрдХ рдХрд░рддрд╛ рд╣реИред рдпрджрд┐ `globalDosThreshold` (рдбрд┐рдлрд╝реЙрд▓реНрдЯ: 50,000 рдЕрдиреБрд░реЛрдз) рдкрд╛рд░ рд╣реЛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рд╕рд┐рд╕реНрдЯрдо рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдЦреБрдж рдХреЛ **рд╕реНрд▓реАрдк рдореЛрдб (Sleep Mode)** рдореЗрдВ рдбрд╛рд▓ рджреЗрддрд╛ рд╣реИред

* **рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛:** рд╕рд░реНрд╡рд░ 503 Service Unavailable рддреНрд░реБрдЯрд┐ рджреЗрддрд╛ рд╣реИред
* **рд╕рдВрджреЗрд╢:** "Be quiet! I'm trying to sleep here." (рд╢рд╛рдВрдд рд░рд╣реЛ! рдореИрдВ рдпрд╣рд╛рдБ рд╕реЛрдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░ рд░рд╣рд╛ рд╣реВрдБред)
* **рдЕрд╡рдзрд┐:** рд╕рд┐рд╕реНрдЯрдо рдПрдХ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдЕрд╡рдзрд┐ (рдбрд┐рдлрд╝реЙрд▓реНрдЯ: 5 рдорд┐рдирдЯ) рдХреЗ рд▓рд┐рдП рд╕рднреА рдирдП рдЕрдиреБрд░реЛрдзреЛрдВ рдХреЛ рдЕрд╕реНрд╡реАрдХрд╛рд░ рдХрд░ рджреЗрддрд╛ рд╣реИ рдФрд░ рдкреНрд░реЛрд╕реЗрд╕рд░ рдХреЛ рдардВрдбрд╛ рд╣реЛрдиреЗ рджреЗрддрд╛ рд╣реИред

### рдЗрдВрдЯреЗрд▓рд┐рдЬреЗрдВрдЯ рд░реЗрдЯ рд▓рд┐рдорд┐рдЯрд┐рдВрдЧ (Intelligent Rate Limiting)
рдкреНрд░рддреНрдпреЗрдХ IP рдкрддреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдЕрд▓рдЧ рдЧрддрд┐рд╡рд┐рдзрд┐ рд░рд┐рдХреЙрд░реНрдб рд░рдЦрд╛ рдЬрд╛рддрд╛ рд╣реИред Gatekeeper IP рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рджреЛ рдЕрд▓рдЧ-рдЕрд▓рдЧ рджрд░ рд╕реАрдорд╛рдПрдБ рд▓рд╛рдЧреВ рдХрд░рддрд╛ рд╣реИ:

1.  **рд╕рд╛рдорд╛рдиреНрдп рдЕрдиреБрд░реЛрдз рд╕реАрдорд╛:** рдпрджрд┐ рдХреЛрдИ IP рдкрддрд╛ 5 рд╕реЗрдХрдВрдб рдХреЗ рднреАрддрд░ `generalIpRateLimit5Sec` (рдбрд┐рдлрд╝реЙрд▓реНрдЯ: 100) рдорд╛рди рд╕реЗ рдЕрдзрд┐рдХ рдЕрдиреБрд░реЛрдз рднреЗрдЬрддрд╛ рд╣реИ, рддреЛ рдЙрд╕реЗ рдЕрд╕реНрдерд╛рдпреА рд░реВрдк рд╕реЗ рдЕрд╡рд░реБрджреНрдз рдХрд░ рджрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рдФрд░ рдЙрд╕реЗ 429 Too Many Requests рддреНрд░реБрдЯрд┐ рдкреНрд░рд╛рдкреНрдд рд╣реЛрддреА рд╣реИред
2.  **рдЯреЛрдХрди рдирд┐рд░реНрдорд╛рдг рд╕реАрдорд╛:** рд▓реЙрдЧрд┐рди рдФрд░ рдЯреЛрдХрди рдЕрдзрд┐рдЧреНрд░рд╣рдг рдПрдВрдбрдкреЙрдЗрдВрдЯ (`/token/create`) рдХреЛ рдмреНрд░реВрдЯ-рдлреЛрд░реНрд╕ рд╣рдорд▓реЛрдВ рдХреЗ рдЦрд┐рд▓рд╛рдл рдЕрдзрд┐рдХ рд╕рдЦреНрддреА рд╕реЗ рд╕рдВрд░рдХреНрд╖рд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред рдЗрд╕ рдПрдВрдбрдкреЙрдЗрдВрдЯ рдкрд░ рдкреНрд░рддрд┐ рд╕реЗрдХрдВрдб рдХреЗрд╡рд▓ 1 рдЕрдиреБрд░реЛрдз рднреЗрдЬрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред

### IP рдкреНрд░рдмрдВрдзрди (Blacklist & Whitelist)
рдЖрдк `config.dart` рдлрд╝рд╛рдЗрд▓ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд╕реНрдЯреЗрдЯрд┐рдХ IP рдкреНрд░рдмрдВрдзрди рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ:
* **Blacklist:** рдпрд╣рд╛рдБ рдЬреЛрдбрд╝реЗ рдЧрдП IP рдкрддреЗ рдХрд┐рд╕реА рднреА рдкрд░рд┐рд╕реНрдерд┐рддрд┐ рдореЗрдВ рд╕рд░реНрд╡рд░ рддрдХ рдирд╣реАрдВ рдкрд╣реБрдБрдЪ рд╕рдХрддреЗред
* **Whitelist:** рдпрд╣рд╛рдБ рдЬреЛрдбрд╝реЗ рдЧрдП IP рдкрддреЗ (рдЬреИрд╕реЗ, рд╕реНрдерд╛рдиреАрдп рдиреЗрдЯрд╡рд░реНрдХ рдпрд╛ рд╡реНрдпрд╡рд╕реНрдерд╛рдкрдХ IP) рджрд░ рд╕реАрдорд╛рдУрдВ рдореЗрдВ рдлрдВрд╕реЗ рдмрд┐рдирд╛ рд╕рдВрдЪрд╛рд▓рди рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред

---

## 4.2. рдЯреЛрдХрди рдкреНрд░рдмрдВрдзрди рдФрд░ рд╕рддреНрд░ (Sessions)

рд╕реНрдЯреЗрдЯрд▓реЗрд╕ REST API рдХреА рддрд░рд╣ рд╡реНрдпрд╡рд╣рд╛рд░ рдХрд░рдиреЗ рдХреЗ рдмрдЬрд╛рдп, Zeytin рд╕рддреНрд░ рдЯреЛрдХрди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИ рдЬреЛ рд╕рдордп-рд╕реАрдорд┐рдд рд╣реЛрддреЗ рд╣реИрдВ рдФрд░ рдореЗрдореЛрд░реА рдореЗрдВ рд░рдЦреЗ рдЬрд╛рддреЗ рд╣реИрдВред

### рдЯреЛрдХрди рд▓рд╛рдЗрдлрд╕рд╛рдЗрдХрд┐рд▓
рдЬрдм рдХреЛрдИ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЕрдкрдиреЗ рдИрдореЗрд▓ рдФрд░ рдкрд╛рд╕рд╡рд░реНрдб рдХреЗ рд╕рд╛рде `/token/create` рдкрддреЗ рдкрд░ рдЕрдиреБрд░реЛрдз рднреЗрдЬрддрд╛ рд╣реИ, рддреЛ рд╕рд┐рд╕реНрдЯрдо рдЗрд╕ рдЬрд╛рдирдХрд╛рд░реА рдХреЛ рд╕рддреНрдпрд╛рдкрд┐рдд рдХрд░рддрд╛ рд╣реИ рдФрд░ рдореЗрдореЛрд░реА рдореЗрдВ рдПрдХ рдЕрд╕реНрдерд╛рдпреА UUID (рд╡рд┐рд╢рд┐рд╖реНрдЯ рдкрд╣рдЪрд╛рди) рдмрдирд╛рддрд╛ рд╣реИред

* **рдЬреАрд╡рдирдХрд╛рд▓:** рдЯреЛрдХрди рдмрдирд╛рдП рдЬрд╛рдиреЗ рдХреЗ рдХреНрд╖рдг рд╕реЗ рдХреЗрд╡рд▓ **2 рдорд┐рдирдЯ (120 рд╕реЗрдХрдВрдб)** рдХреЗ рд▓рд┐рдП рдорд╛рдиреНрдп рд╣реЛрддреЗ рд╣реИрдВред
* **рд╕реБрд░рдХреНрд╖рд╛:** рдЗрддрдирд╛ рдХрдо рд╕рдордп рд╣реЛрдиреЗ рд╕реЗ рдпрд╣ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рд╣реЛрддрд╛ рд╣реИ рдХрд┐ рдпрджрд┐ рдЯреЛрдХрди рдЪреЛрд░реА рд╣реЛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рд╣рдорд▓рд╛рд╡рд░ рдХреЗ рдкрд╛рд╕ рд╕рдВрдЪрд╛рд▓рди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдмрд╣реБрдд рд╕реАрдорд┐рдд рд╕рдордп рд╣реЛрддрд╛ рд╣реИред
* **рд░реАрдлреНрд░реЗрд╢:** рдХреНрд▓рд╛рдЗрдВрдЯ рд╕рд╛рдЗрдб рдХреЛ рд╣рд░ 2 рдорд┐рдирдЯ рдореЗрдВ рдпрд╛ рдСрдкрд░реЗрд╢рди рдХрд░рдиреЗ рд╕реЗ рддреБрд░рдВрдд рдкрд╣рд▓реЗ рдПрдХ рдирдП рдЯреЛрдХрди рдХрд╛ рдЕрдиреБрд░реЛрдз рдХрд░рдирд╛ рд╣реЛрдЧрд╛ред

### рдорд▓реНрдЯреА-рдЕрдХрд╛рдЙрдВрдЯ рдкреНрд░рддрд┐рдмрдВрдз
Gatekeeper рдЙрди Trucks (рдЦрд╛рддреЛрдВ) рдХреА рд╕рдВрдЦреНрдпрд╛ рдХреЛ рд╕реАрдорд┐рдд рдХрд░рддрд╛ рд╣реИ рдЬрд┐рдиреНрд╣реЗрдВ рдПрдХ рд╣реА IP рдкрддреЗ рд╕реЗ рдЦреЛрд▓рд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ, рдПрдХ IP рдкрддрд╛ рдЕрдзрд┐рдХрддрдо 20 рдЕрд▓рдЧ-рдЕрд▓рдЧ рдЦрд╛рддреЗ рдмрдирд╛ рд╕рдХрддрд╛ рд╣реИред рдпрджрд┐ рдпрд╣ рд╕реАрдорд╛ рдкрд╛рд░ рд╣реЛ рдЬрд╛рддреА рд╣реИ, рддреЛ рд╡рд╣ IP рдкрддрд╛ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдкреНрд░рддрд┐рдмрдВрдзрд┐рдд рд╣реЛ рдЬрд╛рддрд╛ рд╣реИред

---

## 4.3. Tokener: рдПрдВрдб-рдЯреВ-рдПрдВрдб рдПрдиреНрдХреНрд░рд┐рдкреНрд╢рди

Zeytin рдкрд░ рдорд╣рддреНрд╡рдкреВрд░реНрдг рдбреЗрдЯрд╛ рдСрдкрд░реЗрд╢рди (CRUD рдСрдкрд░реЗрд╢рди рдФрд░ WebSocket рд╕реНрдЯреНрд░реАрдо) рдбреЗрдЯрд╛ рдХреЛ рд╕рд╛рджреЗ рдкрд╛рда (JSON) рдХреЗ рд░реВрдк рдореЗрдВ рдЯреНрд░рд╛рдВрд╕рдкреЛрд░реНрдЯ рдирд╣реАрдВ рдХрд░рддреЗ рд╣реИрдВред рдЗрд╕рдХреЗ рдмрдЬрд╛рдп, рд╡реЗ рдЗрд╕реЗ **AES-CBC** рдПрд▓реНрдЧреЛрд░рд┐рджрдо рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдПрдиреНрдХреНрд░рд┐рдкреНрдЯреЗрдб рдкреИрдХреЗрдЯ рдореЗрдВ рдЯреНрд░рд╛рдВрд╕рдкреЛрд░реНрдЯ рдХрд░рддреЗ рд╣реИрдВред рдЗрд╕ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЛ рдкреНрд░рдмрдВрдзрд┐рдд рдХрд░рдиреЗ рд╡рд╛рд▓реА рдХреНрд▓рд╛рд╕ `ZeytinTokener` рд╣реИред

### рдПрдиреНрдХреНрд░рд┐рдкреНрд╢рди рддрд░реНрдХ
рдкреНрд░рддреНрдпреЗрдХ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХрд╛ рдПрдиреНрдХреНрд░рд┐рдкреНрд╢рди рдХреБрдВрдЬреА (key) рдЙрдирдХреЗ рдЕрдкрдиреЗ рд▓реЙрдЧрд┐рди рдкрд╛рд╕рд╡рд░реНрдб рд╕реЗ рд▓реА рдЧрдИ рд╣реИред рдЗрд╕рдХрд╛ рдорддрд▓рдм рдпрд╣ рд╣реИ рдХрд┐ рдбреЗрдЯрд╛рдмреЗрд╕ рдкреНрд░рд╢рд╛рд╕рдХ рднреА рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдкрд╛рд╕рд╡рд░реНрдб рдХреЛ рдЬрд╛рдиреЗ рдмрд┐рдирд╛ рдиреЗрдЯрд╡рд░реНрдХ рдЯреНрд░реИрдлрд╝рд┐рдХ рдХреЛ рд╕реБрдирдХрд░ рдбреЗрдЯрд╛ рдХреА рд╕рд╛рдордЧреНрд░реА рдХреЛ рдбрд┐рдХреНрд░рд┐рдкреНрдЯ рдирд╣реАрдВ рдХрд░ рд╕рдХрддрд╛ рд╣реИред

**рдбреЗрдЯрд╛ рдкреИрдХреЗрдЯ рд╕рдВрд░рдЪрдирд╛:**
рдПрдиреНрдХреНрд░рд┐рдкреНрдЯреЗрдб рдбреЗрдЯрд╛ рдореЗрдВ рджреЛ рднрд╛рдЧ рд╣реЛрддреЗ рд╣реИрдВ: Initialization Vector (IV) рдФрд░ Ciphertext, рдЬрд┐рдирдХреЗ рдмреАрдЪ рдореЗрдВ рдПрдХ рдХреЛрд▓рди (`:`) рд╣реЛрддрд╛ рд╣реИред

рдкреНрд░рд╛рд░реВрдк: `IV_BASE64:CIPHERTEXT_BASE64`

### рдЙрджрд╛рд╣рд░рдг рдЕрдиреБрд░реЛрдз рдФрд░ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛

рдорд╛рди рд▓реЗрдВ рдХрд┐ рдЖрдк рдбреЗрдЯрд╛ рдкрдврд╝рдиреЗ рдХреЗ рд▓рд┐рдП `/data/get` рдПрдВрдбрдкреЙрдЗрдВрдЯ рдкрд░ рдЕрдиреБрд░реЛрдз рднреЗрдЬрддреЗ рд╣реИрдВред

**рдХреНрд▓рд╛рдЗрдВрдЯ рдЕрдиреБрд░реЛрдз (Client Request):**
рдХреНрд▓рд╛рдЗрдВрдЯ `box` рдФрд░ `tag` рдЬрд╛рдирдХрд╛рд░реА рдХреЛ рдЦреБрд▓реЗ рддреМрд░ рдкрд░ рдирд╣реАрдВ, рдмрд▓реНрдХрд┐ рдПрдиреНрдХреНрд░рд┐рдкреНрдЯреЗрдб рднреЗрдЬрддрд╛ рд╣реИред
```json
{
  "token": "a1b2c3d4-...",
  "data": "r5T8...IV_BASE64...:e9K1...CIPHERTEXT..." 
  // "data" рдкреИрд░рд╛рдореАрдЯрд░ рдПрдХ рдПрдиреНрдХреНрд░рд┐рдкреНрдЯреЗрдб JSON рдСрдмреНрдЬреЗрдХреНрдЯ рд╣реИ: {"box": "settings", "tag": "theme"}
}
```

**рд╕рд░реНрд╡рд░ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ (Server Response):**
рд╕рд░реНрд╡рд░ рдбреЗрдЯрд╛ рдвреВрдВрдврддрд╛ рд╣реИ, рдЙрд╕реЗ рдкрдврд╝рддрд╛ рд╣реИ, рдФрд░ рдЙрд╕реЗ рдлрд┐рд░ рд╕реЗ рдПрдиреНрдХреНрд░рд┐рдкреНрдЯ рдХрд░рдХреЗ рд╡рд╛рдкрд╕ рдХрд░рддрд╛ рд╣реИред
```json
{
  "isSuccess": true,
  "message": "Oki doki!",
  "data": "m7Z2...IV_BASE64...:p4L9...CIPHERTEXT..."
  // рдЬрдм рдбрд┐рдХреНрд░рд┐рдкреНрдЯ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ: {"mode": "dark", "fontSize": 14}
}
```

### рдХреНрд▓рд╛рдЗрдВрдЯ-рд╕рд╛рдЗрдб рдПрдХреАрдХрд░рдг
рдпрджрд┐ рдЖрдк рдПрдХ рдХреНрд▓рд╛рдЗрдВрдЯ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рд╡рд┐рдХрд╕рд┐рдд рдХрд░ рд░рд╣реЗ рд╣реИрдВ рдЬреЛ Zeytin рд╕реЗ рдмрд╛рдд рдХрд░реЗрдЧрд╛, рддреЛ рдЖрдкрдХреЛ `ZeytinTokener` рдХреНрд▓рд╛рд╕ рдореЗрдВ рддрд░реНрдХ рдХреЛ рдЕрдкрдиреА рднрд╛рд╖рд╛ рдореЗрдВ рдЕрдиреБрдХреВрд▓рд┐рдд рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред

1.  **Key Derivation:** рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЗ рдкрд╛рд╕рд╡рд░реНрдб рдХреЛ SHA-256 рдХреЗ рд╕рд╛рде рд╣реИрд╢ рдХрд░реЗрдВред рдкрд░рд┐рдгрд╛рдореА рдмрд╛рдЗрдЯ рд╕рд░рдгреА рдЖрдкрдХреА AES рдХреБрдВрдЬреА рд╣реИред
2.  **Encryption:** рдЬреЛ JSON рдбреЗрдЯрд╛ рдЖрдк рднреЗрдЬреЗрдВрдЧреЗ рдЙрд╕реЗ рд░реИрдВрдбрдорд▓реА рдЬрдирд░реЗрдЯ рдХрд┐рдП рдЧрдП 16-рдмрд╛рдЗрдЯ IV рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ AES-CBC рдореЛрдб рдореЗрдВ рдПрдиреНрдХреНрд░рд┐рдкреНрдЯ рдХрд░реЗрдВред рдкрд░рд┐рдгрд╛рдорд╕реНрд╡рд░реВрдк `IV:EncryptedData` рд╕реНрдЯреНрд░рд┐рдВрдЧ рдмрдирд╛рдПрдБред
3.  **Decryption:** рд╕рд░реНрд╡рд░ рд╕реЗ рдЖрдиреЗ рд╡рд╛рд▓реА рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдХреЛ `:` рд╡рд░реНрдг рд╕реЗ рд╡рд┐рднрд╛рдЬрд┐рдд рдХрд░реЗрдВред рдкрд╣рд▓рд╛ рднрд╛рдЧ IV рд╣реИ, рджреВрд╕рд░рд╛ рднрд╛рдЧ рдПрдиреНрдХреНрд░рд┐рдкреНрдЯреЗрдб рдбреЗрдЯрд╛ рд╣реИред рдЙрд╕реА рдХреБрдВрдЬреА рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдбреЗрдЯрд╛ рдХреЛ рдбрд┐рдХреНрд░рд┐рдкреНрдЯ рдХрд░реЗрдВред

рдЗрд╕ рд╕рдВрд░рдЪрдирд╛ рдХреЗ рд▓рд┐рдП рдзрдиреНрдпрд╡рд╛рдж, рдбреЗрдЯрд╛ рдбреЗрдЯрд╛рдмреЗрд╕ рдореЗрдВ рдмрд╛рдЗрдирд░реА рдХреЗ рд░реВрдк рдореЗрдВ рд░рд╣рддрд╛ рд╣реИ рдФрд░ рдиреЗрдЯрд╡рд░реНрдХ рдкрд░ рдПрдиреНрдХреНрд░рд┐рдкреНрдЯ рд╣реЛрдХрд░ рдпрд╛рддреНрд░рд╛ рдХрд░рддрд╛ рд╣реИред рдХреЗрд╡рд▓ рд╡реИрдз рд╕рддреНрд░ рдФрд░ рдкрд╛рд╕рд╡рд░реНрдб рдХрд╛ рдЬреНрдЮрд╛рди рд░рдЦрдиреЗ рд╡рд╛рд▓рд╛ рдХреНрд▓рд╛рдЗрдВрдЯ рд╣реА рдбреЗрдЯрд╛ рдХреЛ рд╕рд╛рд░реНрдердХ рдмрдирд╛ рд╕рдХрддрд╛ рд╣реИред


# 5. API рд╕рдВрджрд░реНрдн (Reference)

рдбреЗрдЯрд╛ рд╕реБрд░рдХреНрд╖рд╛ рдХреЛ рдЙрдЪреНрдЪрддрдо рд╕реНрддрд░ рдкрд░ рд░рдЦрдиреЗ рдХреЗ рд▓рд┐рдП, Zeytin рдЕрдкрдиреЗ рдЕрдзрд┐рдХрд╛рдВрд╢ рдПрдВрдбрдкреЙрдЗрдВрдЯреНрд╕ рдкрд░ рдорд╛рдирдХ JSON рдХреЗ рдмрдЬрд╛рдп рдПрдиреНрдХреНрд░рд┐рдкреНрдЯреЗрдб рдбреЗрдЯрд╛ рдкреИрдХреЗрдЯ рдХреЗ рд╕рд╛рде рд╕рдВрдЪрд╛рд░ рдХрд░рддрд╛ рд╣реИред рдЗрд╕рд▓рд┐рдП, API рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рд╕реЗ рдкрд╣рд▓реЗ "рдПрдиреНрдХреНрд░рд┐рдкреНрдЯреЗрдб рдбреЗрдЯрд╛" рдХреА рдЕрд╡рдзрд╛рд░рдгрд╛ рдХреЛ рд╕рдордЭрдирд╛ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИред

рдЬрдм рддрдХ рдЕрдиреНрдпрдерд╛ рди рдХрд╣рд╛ рдЬрд╛рдП, **CRUD**, **Call**, рдФрд░ **Watch** рдХреЗ рддрд╣рдд рд╕рднреА рдЕрдиреБрд░реЛрдзреЛрдВ рдореЗрдВ, `data` рдкреИрд░рд╛рдореАрдЯрд░ рдПрдХ JSON рд╕реНрдЯреНрд░рд┐рдВрдЧ рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП рдЬреЛ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЗ рдкрд╛рд╕рд╡рд░реНрдб рд╕реЗ рдкреНрд░рд╛рдкреНрдд AES рдХреБрдВрдЬреА рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдПрдиреНрдХреНрд░рд┐рдкреНрдЯ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реЛред

---

## 5.1. рдЦрд╛рддрд╛ рдФрд░ рд╕рддреНрд░ рдкреНрд░рдмрдВрдзрди

рдпреЗ рдПрдВрдбрдкреЙрдЗрдВрдЯреНрд╕ рдбреЗрдЯрд╛рдмреЗрд╕ рдЗрдВрдЬрди рдХреЗ рдкреНрд░рд╡реЗрд╢ рджреНрд╡рд╛рд░ рд╣реИрдВред рдпрд╣рд╛рдБ рдбреЗрдЯрд╛ рдЦреБрд▓реЗ JSON рдлреЙрд░реНрдореЗрдЯ рдореЗрдВ, рдмрд┐рдирд╛ рдПрдиреНрдХреНрд░рд┐рдкреНрд╢рди рдХреЗ рднреЗрдЬрд╛ рдЬрд╛рддрд╛ рд╣реИред

### рдирдпрд╛ рдЦрд╛рддрд╛ (Truck) рдмрдирд╛рдирд╛
рд╕рд┐рд╕реНрдЯрдо рдореЗрдВ рдПрдХ рдирдпрд╛ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рд╕реНрдерд╛рди (Truck) рдмрдирд╛рддрд╛ рд╣реИред

* **рдПрдВрдбрдкреЙрдЗрдВрдЯ:** `POST /truck/create`
* **рдмреЙрдбреА (Body):**
    ```json
    {
      "email": "example@mail.com",
      "password": "strong_password"
    }
    ```
* **рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛:** рд╕рдлрд▓ рд╣реЛрдиреЗ рдкрд░ рдмрдирд╛рдпрд╛ рдЧрдпрд╛ Truck ID рд╡рд╛рдкрд╕ рдХрд░рддрд╛ рд╣реИред

### рдЦрд╛рддрд╛ ID рдХреНрд╡реЗрд░реА
рдИрдореЗрд▓ рдФрд░ рдкрд╛рд╕рд╡рд░реНрдб рдХреЛ рд╕рддреНрдпрд╛рдкрд┐рдд рдХрд░рддрд╛ рд╣реИ рдФрд░ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреА Truck ID рдкреНрд░рд╛рдкреНрдд рдХрд░рддрд╛ рд╣реИред

* **рдПрдВрдбрдкреЙрдЗрдВрдЯ:** `POST /truck/id`
* **рдмреЙрдбреА:** рдИрдореЗрд▓ рдФрд░ рдкрд╛рд╕рд╡рд░реНрдб (рдКрдкрд░ рдЬреИрд╕рд╛ рд╣реА)ред

### рдЯреЛрдХрди рдирд┐рд░реНрдорд╛рдг (рд▓реЙрдЧ рдЗрди)
рдСрдкрд░реЗрд╢рди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ рдЕрд╕реНрдерд╛рдпреА рд╕рддреНрд░ рдХреБрдВрдЬреА (Token) рдЙрддреНрдкрдиреНрди рдХрд░рддрд╛ рд╣реИред рдпрд╣ рдЯреЛрдХрди 2 рдорд┐рдирдЯ (120 рд╕реЗрдХрдВрдб) рдХреЗ рд▓рд┐рдП рдорд╛рдиреНрдп рд╣реИред

* **рдПрдВрдбрдкреЙрдЗрдВрдЯ:** `POST /token/create`
* **рдмреЙрдбреА:**
    ```json
    {
      "email": "example@mail.com",
      "password": "strong_password"
    }
    ```
* **рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛:** `{"token": "token-in-uuid-format"}`

### рдЯреЛрдХрди рд╡рд┐рд▓реЛрдкрди (рд▓реЙрдЧ рдЖрдЙрдЯ)
рд╕рдорд╛рдкреНрдд рд╣реЛрдиреЗ рд╕реЗ рдкрд╣рд▓реЗ рдПрдХ рд╕рдХреНрд░рд┐рдп рдЯреЛрдХрди рдХреЛ рдЕрдорд╛рдиреНрдп рдХрд░рддрд╛ рд╣реИред

* **рдПрдВрдбрдкреЙрдЗрдВрдЯ:** `DELETE /token/delete`
* **рдмреЙрдбреА:** рдИрдореЗрд▓ рдФрд░ рдкрд╛рд╕рд╡рд░реНрдбред

---

## 5.2. рдбреЗрдЯрд╛ рдСрдкрд░реЗрд╢рдВрд╕ (CRUD)

рдЗрд╕ рдЕрдиреБрднрд╛рдЧ рдореЗрдВ рд╕рднреА рдЕрдиреБрд░реЛрдз рджреЛ рдкреИрд░рд╛рдореАрдЯрд░ рд▓реЗрддреЗ рд╣реИрдВ:
1.  `token`: `/token/create` рд╕реЗ рдкреНрд░рд╛рдкреНрдд рд╡реИрдз рд╕рддреНрд░ рдХреБрдВрдЬреАред
2.  `data`: **рдПрдиреНрдХреНрд░рд┐рдкреНрдЯреЗрдб** рд╕реНрдЯреНрд░рд┐рдВрдЧ рдЬрд┐рд╕рдореЗрдВ рдЕрдиреБрд░реЛрдзрд┐рдд рдСрдкрд░реЗрд╢рди рдХреЗ рдкреИрд░рд╛рдореАрдЯрд░ рд╢рд╛рдорд┐рд▓ рд╣реИрдВред

> **рдиреЛрдЯ:** рдиреАрдЪреЗ рджрд┐рдП рдЧрдП рдЙрджрд╛рд╣рд░рдгреЛрдВ рдореЗрдВ, `data` рдХреА рд╕рд╛рдордЧреНрд░реА рдХреЛ рдПрдиреНрдХреНрд░рд┐рдкреНрд╢рди рд╕реЗ рдкрд╣рд▓реЗ рдЗрд╕рдХреА (рдЦреБрд▓реА) рд╕реНрдерд┐рддрд┐ рдореЗрдВ рджрд┐рдЦрд╛рдпрд╛ рдЧрдпрд╛ рд╣реИред рд╡рд╛рд╕реНрддрд╡рд┐рдХ рдЕрдиреБрд░реЛрдз рдореЗрдВ, рдЗрд╕ JSON рдХреЛ `ZeytinTokener` рдХреЗ рд╕рд╛рде рдПрдиреНрдХреНрд░рд┐рдкреНрдЯ рдФрд░ рднреЗрдЬрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред

### рдбреЗрдЯрд╛ рдЬреЛрдбрд╝реЗрдВ / рдЕрдкрдбреЗрдЯ рдХрд░реЗрдВ
рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдмреЙрдХреНрд╕ (Box) рдФрд░ рдЯреИрдЧ (Tag) рдореЗрдВ рдбреЗрдЯрд╛ рд▓рд┐рдЦрддрд╛ рд╣реИред рдпрджрд┐ рдЯреИрдЧ рдореМрдЬреВрдж рд╣реИ, рддреЛ рдпрд╣ рдЕрдкрдбреЗрдЯ рдХрд░рддрд╛ рд╣реИ; рдпрджрд┐ рдирд╣реАрдВ, рддреЛ рдпрд╣ рдмрдирд╛рддрд╛ рд╣реИред

* **рдПрдВрдбрдкреЙрдЗрдВрдЯ:** `POST /data/add`
* **рдПрдиреНрдХреНрд░рд┐рдкреНрдЯреЗрдб рдбреЗрдЯрд╛ рд╕рд╛рдордЧреНрд░реА:**
    ```json
    {
      "box": "settings",
      "tag": "theme",
      "value": { "mode": "dark", "color": "blue" }
    }
    ```

### рдмрд▓реНрдХ рдбреЗрдЯрд╛ рдЬреЛрдбрд╝рдирд╛ (Batch)
рдПрдХ рдмрд╛рд░ рдореЗрдВ рдПрдХ рд╣реА рдмреЙрдХреНрд╕ рдореЗрдВ рдбреЗрдЯрд╛ рдХреЗ рдХрдИ рдЯреБрдХрдбрд╝реЗ рд▓рд┐рдЦрддрд╛ рд╣реИред рдкреНрд░рджрд░реНрд╢рди рдХреЗ рд▓рд┐рдП рдкрд╕рдВрдж рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред

* **рдПрдВрдбрдкреЙрдЗрдВрдЯ:** `POST /data/addBatch`
* **рдПрдиреНрдХреНрд░рд┐рдкреНрдЯреЗрдб рдбреЗрдЯрд╛ рд╕рд╛рдордЧреНрд░реА:**
    ```json
    {
      "box": "products",
      "entries": {
        "product_1": { "name": "Laptop", "price": 5000 },
        "product_2": { "name": "Mouse", "price": 100 }
      }
    }
    ```

### рдбреЗрдЯрд╛ рдкрдврд╝реЗрдВ (рдПрдХрд▓)
рдПрдХ рд╡рд┐рд╢рд┐рд╖реНрдЯ рдЯреИрдЧ рдореЗрдВ рдбреЗрдЯрд╛ рдкреБрдирд░реНрдкреНрд░рд╛рдкреНрдд рдХрд░рддрд╛ рд╣реИред

* **рдПрдВрдбрдкреЙрдЗрдВрдЯ:** `POST /data/get`
* **рдПрдиреНрдХреНрд░рд┐рдкреНрдЯреЗрдб рдбреЗрдЯрд╛ рд╕рд╛рдордЧреНрд░реА:** `{ "box": "settings", "tag": "theme" }`
* **рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛:** рдПрдиреНрдХреНрд░рд┐рдкреНрдЯреЗрдб рдбреЗрдЯрд╛ рд╡рд╛рдкрд╕ рдХрд░рддрд╛ рд╣реИред рдХреНрд▓рд╛рдЗрдВрдЯ рд╕рд╛рдЗрдб рдкрд░ рдбрд┐рдХреНрд░рд┐рдкреНрдЯ рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред

### рдмреЙрдХреНрд╕ рдкрдврд╝реЗрдВ (рд╕рднреА)
рдПрдХ рдмреЙрдХреНрд╕ рдореЗрдВ рд╕рднреА рдбреЗрдЯрд╛ рдкреБрдирд░реНрдкреНрд░рд╛рдкреНрдд рдХрд░рддрд╛ рд╣реИред рд╕рд╛рд╡рдзрд╛рдиреА рд╕реЗ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП; рдмрдбрд╝реЗ рдмреЙрдХреНрд╕ рдореЗрдВ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдореЗрдВ рд▓рдВрдмрд╛ рд╕рдордп рд▓рдЧ рд╕рдХрддрд╛ рд╣реИред

* **рдПрдВрдбрдкреЙрдЗрдВрдЯ:** `POST /data/getBox`
* **рдПрдиреНрдХреНрд░рд┐рдкреНрдЯреЗрдб рдбреЗрдЯрд╛ рд╕рд╛рдордЧреНрд░реА:** `{ "box": "products" }`

### рдбреЗрдЯрд╛ рд╣рдЯрд╛рдПрдВ
рдПрдХ рд╡рд┐рд╢рд┐рд╖реНрдЯ рдЯреИрдЧ рдФрд░ рдЙрд╕рдХреЗ рдбреЗрдЯрд╛ рдХреЛ рд╣рдЯрд╛ рджреЗрддрд╛ рд╣реИред

* **рдПрдВрдбрдкреЙрдЗрдВрдЯ:** `POST /data/delete`
* **рдПрдиреНрдХреНрд░рд┐рдкреНрдЯреЗрдб рдбреЗрдЯрд╛ рд╕рд╛рдордЧреНрд░реА:** `{ "box": "settings", "tag": "theme" }`

### рдмреЙрдХреНрд╕ рд╣рдЯрд╛рдПрдВ
рдПрдХ рдмреЙрдХреНрд╕ рдФрд░ рдЙрд╕рдХреЗ рдЕрдВрджрд░ рдХреЗ рд╕рднреА рдбреЗрдЯрд╛ рдХреЛ рдкреВрд░реА рддрд░рд╣ рд╕реЗ рд╕рд╛рдлрд╝ рдХрд░рддрд╛ рд╣реИред

* **рдПрдВрдбрдкреЙрдЗрдВрдЯ:** `POST /data/deleteBox`
* **рдПрдиреНрдХреНрд░рд┐рдкреНрдЯреЗрдб рдбреЗрдЯрд╛ рд╕рд╛рдордЧреНрд░реА:** `{ "box": "history_logs" }`

### рдЕрд╕реНрддрд┐рддреНрд╡ рдЬрд╛рдБрдЪ
рд▓рд╛рдЗрдЯрд╡реЗрдЯ рдПрдВрдбрдкреЙрдЗрдВрдЯреНрд╕ рдЬреЛ рдЬрд╛рдВрдЪрддреЗ рд╣реИрдВ рдХрд┐ рдбреЗрдЯрд╛ рдореМрдЬреВрдж рд╣реИ рдпрд╛ рдирд╣реАрдВред рд╡реЗ рдХреЗрд╡рд▓ `true/false` рдЬрд╛рдирдХрд╛рд░реА рдПрдиреНрдХреНрд░рд┐рдкреНрдЯреЗрдб рд╡рд╛рдкрд╕ рдХрд░рддреЗ рд╣реИрдВ, рдбреЗрдЯрд╛ рд╕реНрд╡рдпрдВ рдирд╣реАрдВред

* **Tag рдореМрдЬреВрдж рд╣реИ?:** `POST /data/existsTag` -> `{ "box": "...", "tag": "..." }`
* **Box рдореМрдЬреВрдж рд╣реИ?:** `POST /data/existsBox` -> `{ "box": "..." }`
* **рд╕рд╛рдордЧреНрд░реА рдЬрд╛рдБрдЪ:** `POST /data/contains` -> `{ "box": "...", "tag": "..." }` (рдореЗрдореЛрд░реА рдпрд╛ рдбрд┐рд╕реНрдХ рдореЗрдВ рдбреЗрдЯрд╛ рдХреЗ рднреМрддрд┐рдХ рдЕрд╕реНрддрд┐рддреНрд╡ рдХреЛ рд╕рддреНрдпрд╛рдкрд┐рдд рдХрд░рддрд╛ рд╣реИ)ред

### рдЦреЛрдЬ рдФрд░ рдлрд╝рд┐рд▓реНрдЯрд░рд┐рдВрдЧ
* **рдЙрдкрд╕рд░реНрдЧ рдЦреЛрдЬ (Search):** рдпрд╣ рдЦреЛрдЬрддрд╛ рд╣реИ рдХрд┐ рдХреНрдпрд╛ рдХрд┐рд╕реА рдлрд╝реАрд▓реНрдб рдореЗрдВ рдорд╛рди рдХрд┐рд╕реА рд╡рд┐рд╢рд┐рд╖реНрдЯ рд╢рдмреНрдж (prefix) рд╕реЗ рд╢реБрд░реВ рд╣реЛрддрд╛ рд╣реИред
    * **рдПрдВрдбрдкреЙрдЗрдВрдЯ:** `POST /data/search`
    * **рдПрдиреНрдХреНрд░рд┐рдкреНрдЯреЗрдб рдбреЗрдЯрд╛:** `{ "box": "users", "field": "name", "prefix": "Ahmet" }`

* **рд╕рдЯреАрдХ рдорд┐рд▓рд╛рди (Filter):** рдЙрди рд░рд┐рдХреЙрд░реНрдбреНрд╕ рдХреЛ рдкреБрдирд░реНрдкреНрд░рд╛рдкреНрдд рдХрд░рддрд╛ рд╣реИ рдЬрд╣рд╛рдВ рдХрд┐рд╕реА рдлрд╝реАрд▓реНрдб рдореЗрдВ рдорд╛рди рдмрд┐рд▓реНрдХреБрд▓ рдореЗрд▓ рдЦрд╛рддрд╛ рд╣реИред
    * **рдПрдВрдбрдкреЙрдЗрдВрдЯ:** `POST /data/filter`
    * **рдПрдиреНрдХреНрд░рд┐рдкреНрдЯреЗрдб рдбреЗрдЯрд╛:** `{ "box": "users", "field": "age", "value": 25 }`

---

## 5.3. рдлрд╝рд╛рдЗрд▓ рд╕реНрдЯреЛрд░реЗрдЬ (Storage)

рдлрд╝рд╛рдЗрд▓ рдЕрдкрд▓реЛрдб рдСрдкрд░реЗрд╢рди рдорд╛рдирдХ `multipart/form-data` рдлреЙрд░реНрдореЗрдЯ рдореЗрдВ рдХрд┐рдП рдЬрд╛рддреЗ рд╣реИрдВред рдПрдиреНрдХреНрд░рд┐рдкреНрд╢рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдЯреЛрдХрди рдЕрдирд┐рд╡рд╛рд░реНрдп рд╣реИред

### рдлрд╝рд╛рдЗрд▓ рдЕрдкрд▓реЛрдб рдХрд░реЗрдВ
* **рдПрдВрдбрдкреЙрдЗрдВрдЯ:** `POST /storage/upload`
* **рд╡рд┐рдзрд┐:** Multipart Form Data
* **рдлрд╝реАрд▓реНрдб:**
    * `token`: рд╡реИрдз рд╕рддреНрд░ рдХреБрдВрдЬреА (String)ред
    * `file`: рдЕрдкрд▓реЛрдб рдХреА рдЬрд╛рдиреЗ рд╡рд╛рд▓реА рдлрд╝рд╛рдЗрд▓ (Binary)ред
* **рдкреНрд░рддрд┐рдмрдВрдз:** `.exe`, `.php`, `.sh`, `.html`, рдЖрджрд┐ рдЬреИрд╕реА рдирд┐рд╖реНрдкрд╛рджрди рдпреЛрдЧреНрдп (executable) рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреЛ рд╕реБрд░рдХреНрд╖рд╛ рдХрд╛рд░рдгреЛрдВ рд╕реЗ рдЕрд╕реНрд╡реАрдХрд╛рд░ рдХрд░ рджрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред

### рдлрд╝рд╛рдЗрд▓ рдбрд╛рдЙрдирд▓реЛрдб / рджреЗрдЦреЗрдВ
рдЕрдкрд▓реЛрдб рдХреА рдЧрдИ рдлрд╝рд╛рдЗрд▓реЗрдВ рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рд░реВрдк рд╕реЗ рдкрд░реЛрд╕реА рдЬрд╛рддреА рд╣реИрдВред

* **рдПрдВрдбрдкреЙрдЗрдВрдЯ:** `GET /<truckId>/<fileName>`
* **рдЙрджрд╛рд╣рд░рдг:** `GET /a1b2-c3d4.../profile_pic.jpg`

---

## 5.4. рд▓рд╛рдЗрд╡ рдореЙрдирд┐рдЯрд░рд┐рдВрдЧ (Watch - WebSocket)

рдХреНрд▓рд╛рдЗрдВрдЯреНрд╕ рдХреЛ рдбреЗрдЯрд╛рдмреЗрд╕ рдореЗрдВ рдкрд░рд┐рд╡рд░реНрддрдиреЛрдВ (рдЬреЛрдбрд╝рдирд╛, рд╣рдЯрд╛рдирд╛, рдЕрдкрдбреЗрдЯ рдХрд░рдирд╛) рдХреЛ рддреБрд░рдВрдд рд╕реБрдирдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред

* **рдПрдВрдбрдкреЙрдЗрдВрдЯ:** `ws://server-address/data/watch/<token>/<boxId>`
* **рдкреИрд░рд╛рдореАрдЯрд░:** URL рдореЗрдВ рд╡реИрдз `token` рдФрд░ рджреЗрдЦрдиреЗ рдХреЗ рд▓рд┐рдП рд╡рд╛рдВрдЫрд┐рдд `boxId` рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред
* **рдЗрд╡реЗрдВрдЯ рд╕рдВрд░рдЪрдирд╛:** рд╕рд░реНрд╡рд░ рд╕реЗ рдЖрдиреЗ рд╡рд╛рд▓реЗ рд╕рдВрджреЗрд╢реЛрдВ рдореЗрдВ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдлреЙрд░реНрдореЗрдЯ рдореЗрдВ JSON рд╣реЛрддрд╛ рд╣реИ:
    ```json
    {
      "op": "PUT", // рдСрдкрд░реЗрд╢рди рдкреНрд░рдХрд╛рд░: PUT, UPDATE, DELETE, BATCH
      "tag": "changed_data_tag",
      "data": "ENCRYPTED_DATA", // рдПрдиреНрдХреНрд░рд┐рдкреНрдЯреЗрдб рдирдпрд╛ рдорд╛рди
      "entries": null // рдХреЗрд╡рд▓ рдмреИрдЪ рдСрдкрд░реЗрд╢рди рдореЗрдВ рднрд░рд╛ рд╣реБрдЖ
    }
    ```

---

## 5.5. рдХреЙрд▓ рдФрд░ рдкреНрд░рд╕рд╛рд░рдг (Call - LiveKit)

Zeytin рд╡реЙрдпрд╕ рдФрд░ рд╡реАрдбрд┐рдпреЛ рдХреЙрд▓ рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ "рд░реВрдо" рдкреНрд░рдмрдВрдзрди (Room management) рдкреНрд░рджрд╛рди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП LiveKit рд╕рд░реНрд╡рд░ рдХреЗ рд╕рд╛рде рдПрдХреАрдХреГрдд рд╣реЛрдХрд░ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИред

### рд░реВрдо рдЬреЙрдЗрди рдХрд░реЗрдВ (рдЯреЛрдХрди рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ)
рдХреЙрд▓ рд╢реБрд░реВ рдХрд░рдиреЗ рдпрд╛ рдореМрдЬреВрджрд╛ рд░реВрдо рдореЗрдВ рд╢рд╛рдорд┐рд▓ рд╣реЛрдиреЗ рдХреЗ рд▓рд┐рдП LiveKit рдПрдХреНрд╕реЗрд╕ рдЯреЛрдХрди рдЙрддреНрдкрдиреНрди рдХрд░рддрд╛ рд╣реИред

* **рдПрдВрдбрдкреЙрдЗрдВрдЯ:** `POST /call/join`
* **рдПрдиреНрдХреНрд░рд┐рдкреНрдЯреЗрдб рдбреЗрдЯрд╛ рд╕рд╛рдордЧреНрд░реА:**
    ```json
    {
      "roomName": "meeting_room_1",
      "uid": "user_123"
    }
    ```
* **рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛:** LiveKit рд╕рд░реНрд╡рд░ рдкрддрд╛ рдФрд░ JWT рдЯреЛрдХрди рдПрдиреНрдХреНрд░рд┐рдкреНрдЯреЗрдб рд╡рд╛рдкрд╕ рдХрд░рддрд╛ рд╣реИред

### рд░реВрдо рд╕реНрдерд┐рддрд┐ рдЬрд╛рдБрдЪ
рдЬрд╛рдВрдЪрддрд╛ рд╣реИ рдХрд┐ рдХреНрдпрд╛ рдХрд┐рд╕реА рд░реВрдо рдореЗрдВ рдХреЛрдИ рд╕рдХреНрд░рд┐рдп рдХреЙрд▓ рд╣реИред

* **рдПрдВрдбрдкреЙрдЗрдВрдЯ:** `POST /call/check`
* **рдПрдиреНрдХреНрд░рд┐рдкреНрдЯреЗрдб рдбреЗрдЯрд╛ рд╕рд╛рдордЧреНрд░реА:** `{ "roomName": "meeting_room_1" }`
* **рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛:** `isActive` (boolean) рдорд╛рди рдПрдиреНрдХреНрд░рд┐рдкреНрдЯреЗрдб рд╡рд╛рдкрд╕ рдХрд░рддрд╛ рд╣реИред

### рд▓рд╛рдЗрд╡ рд░реВрдо рдЯреНрд░реИрдХрд┐рдВрдЧ (Stream)
WebSocket рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдХрд┐рд╕реА рд░реВрдо рдХреА рдЧрддрд┐рд╡рд┐рдзрд┐ рд╕реНрдерд┐рддрд┐ рдХреЛ рд▓рдЧрд╛рддрд╛рд░ рдЯреНрд░реИрдХ рдХрд░рддрд╛ рд╣реИред

* **рдПрдВрдбрдкреЙрдЗрдВрдЯ:** `ws://server-address/call/stream/<token>?data=ENCRYPTED_DATA`
* **рдкреИрд░рд╛рдореАрдЯрд░:**
    * URL рдкрде рдореЗрдВ `token`ред
    * рдХреНрд╡реЗрд░реА рдкреИрд░рд╛рдореАрдЯрд░ рдХреЗ рд░реВрдк рдореЗрдВ `data`: `{ "roomName": "..." }` (рдПрдиреНрдХреНрд░рд┐рдкреНрдЯреЗрдб)ред
* **рд╡реНрдпрд╡рд╣рд╛рд░:** рдЬрдм рд░реВрдо рдХреА рд╕реНрдерд┐рддрд┐ рдмрджрд▓рддреА рд╣реИ (рдЬрдм рдХреЛрдИ рдкреНрд░рд╡реЗрд╢ рдХрд░рддрд╛ рд╣реИ рдпрд╛ рдЕрдВрддрд┐рдо рд╡реНрдпрдХреНрддрд┐ рдЫреЛрдбрд╝ рджреЗрддрд╛ рд╣реИ), рддреЛ рд╕рд░реНрд╡рд░ рддреБрд░рдВрдд рд╕реВрдЪрдирд╛ рднреЗрдЬрддрд╛ рд╣реИред


# 6. рд╕рд░реНрд╡рд░ рдкреНрд░рдмрдВрдзрди

Zeytin рдХреЗрд╡рд▓ рд╕реЙрдлрд╝реНрдЯрд╡реЗрдпрд░ рдирд╣реАрдВ рд╣реИ; рдпрд╣ рдПрдХ рдЬреАрд╡рд┐рдд рдкреНрд░рдгрд╛рд▓реА рд╣реИред рд╣рдордиреЗ **Runner** рдирд╛рдо рдХрд╛ рдПрдХ рдЗрдВрдЯрд░реИрдХреНрдЯрд┐рд╡ рдкреНрд░рдмрдВрдзрди рдкреИрдирд▓ рд╡рд┐рдХрд╕рд┐рдд рдХрд┐рдпрд╛ рд╣реИ рддрд╛рдХрд┐ рдЖрдкрдХреЛ рдЗрд╕ рд╕рд┐рд╕реНрдЯрдо рдХреЛ рдкреНрд░рдмрдВрдзрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЬрдЯрд┐рд▓ Linux рдХрдорд╛рдВрдб (kill, nohup, tail, рдЖрджрд┐) рд╕реЗ рди рдЬреВрдЭрдирд╛ рдкрдбрд╝реЗред

`server/runner.dart` рдлрд╝рд╛рдЗрд▓ рдЖрдкрдХреЗ рд╕рд░реНрд╡рд░ рдХрд╛ рдХреЙрдХрдкрд┐рдЯ рд╣реИред рд╕рднреА рдкрд░рд┐рдЪрд╛рд▓рди рдХрд╛рд░реНрдп рдЬреИрд╕реЗ рд╢реБрд░реВ рдХрд░рдирд╛, рд░реЛрдХрдирд╛, рдЕрдкрдбреЗрдЯ рдХрд░рдирд╛ рдФрд░ рд▓реЙрдЧ рдХреА рдирд┐рдЧрд░рд╛рдиреА рдХрд░рдирд╛ рдпрд╣рд╛рдБ рд╕реЗ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред

## Runner рд╢реБрд░реВ рдХрд░рдирд╛

рдЬрдм рдЖрдк SSH рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЕрдкрдиреЗ рд╕рд░реНрд╡рд░ рд╕реЗ рдЬреБрдбрд╝рддреЗ рд╣реИрдВ, рддреЛ рдкреНрд░рдмрдВрдзрди рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдЦреЛрд▓рдиреЗ рдХреЗ рд▓рд┐рдП рдмрд╕ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХрдорд╛рдВрдб рджрд░реНрдЬ рдХрд░реЗрдВ:

```bash
dart server/runner.dart
```

рдЖрдкрдХреЗ рд╕рд╛рдордиреЗ рдПрдХ рд░рдВрдЧреАрди рдФрд░ рдХреНрд░рдорд╛рдВрдХрд┐рдд рдореЗрдиреВ рдЖрдПрдЧрд╛ред рд╣рдордиреЗ рдиреАрдЪреЗ рд╡рд┐рд╕реНрддрд╛рд░ рд╕реЗ рдмрддрд╛рдпрд╛ рд╣реИ рдХрд┐ рдЗрд╕ рдореЗрдиреВ рдХреЗ рд╡рд┐рдХрд▓реНрдк рдХреНрдпрд╛ рд╕реЗрд╡рд╛ рдХрд░рддреЗ рд╣реИрдВ рдФрд░ рд╡реЗ рдкреГрд╖реНрдарднреВрдорд┐ рдореЗрдВ рдХреНрдпрд╛ рдХрд░рддреЗ рд╣реИрдВред

---

## 6.1. рдирд┐рд╖реНрдкрд╛рджрди рдореЛрдб (Execution Modes)

рд╕рд┐рд╕реНрдЯрдо рд╢реБрд░реВ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рджреЛ рдЕрд▓рдЧ-рдЕрд▓рдЧ рд╡рд┐рдХрд▓реНрдк рдкреЗрд╢ рдХрд┐рдП рдЬрд╛рддреЗ рд╣реИрдВред рдпрд╣ рдЬрд╛рдирдирд╛ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИ рдХрд┐ рдХрд┐рд╕ рд╕реНрдерд┐рддрд┐ рдореЗрдВ рдХрд┐рд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рд╣реИред

### 1. Start Test Mode (рдЯреЗрд╕реНрдЯ рдореЛрдб рд╢реБрд░реВ рдХрд░реЗрдВ)
рдпрд╣ рд╡рд┐рдХрд▓реНрдк рд╕рдВрдХрд▓рди (compiling) рдХреЗ рдмрд┐рдирд╛ рд╡рд░реНрддрдорд╛рди рдЯрд░реНрдорд┐рдирд▓ рд╡рд┐рдВрдбреЛ рдореЗрдВ рд╕рд░реНрд╡рд░ рдХреЛ рддреБрд░рдВрдд рд╢реБрд░реВ рдХрд░рддрд╛ рд╣реИред
* **рдЙрдкрдпреЛрдЧ рдХрд╛ рдорд╛рдорд▓рд╛:** рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рддрдм рдХрд░реЗрдВ рдпрджрд┐ рдЖрдкрдиреЗ рдХреЛрдб рдореЗрдВ рдкрд░рд┐рд╡рд░реНрддрди рдХрд┐рдП рд╣реИрдВ рдФрд░ рдЬрд▓реНрджреА рд╕реЗ рдкрд░реАрдХреНрд╖рдг рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВред
* **рд╡реНрдпрд╡рд╣рд╛рд░:** рдЬрдм рдЖрдк рдЯрд░реНрдорд┐рдирд▓ рдмрдВрдж рдХрд░рддреЗ рд╣реИрдВ рдпрд╛ `CTRL+C` рджрдмрд╛рддреЗ рд╣реИрдВ, рддреЛ рд╕рд░реНрд╡рд░ рднреА рдмрдВрдж рд╣реЛ рдЬрд╛рддрд╛ рд╣реИред рдпрд╣ рддреНрд░реБрдЯрд┐рдпреЛрдВ рдФрд░ рдЖрдЙрдЯрдкреБрдЯ рдХреЛ рд╕реАрдзреЗ рд╕реНрдХреНрд░реАрди рдкрд░ рдкреНрд░рд┐рдВрдЯ рдХрд░рддрд╛ рд╣реИред
* **LiveKit рдЪреЗрдХ:** рд╢реБрд░реВ рдХрд░рдиреЗ рд╕реЗ рдкрд╣рд▓реЗ рдЬрд╛рдБрдЪрддрд╛ рд╣реИ рдХрд┐ Docker рдХрдВрдЯреЗрдирд░ рдЪрд▓ рд░рд╣рд╛ рд╣реИ рдпрд╛ рдирд╣реАрдВ; рдпрджрд┐ рдмрдВрдж рд╣реИ, рддреЛ рдпрд╣ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдЗрд╕реЗ рдЦреЛрд▓рддрд╛ рд╣реИред

### 2. Start Live Mode (рд▓рд╛рдЗрд╡ рдореЛрдб рд╢реБрд░реВ рдХрд░реЗрдВ)
рдпрд╣ рд╡рд┐рдХрд▓реНрдк рд╡рд╛рд╕реНрддрд╡рд┐рдХ рдЙрддреНрдкрд╛рджрди рд╡рд╛рддрд╛рд╡рд░рдг рдХреЗ рд▓рд┐рдП рд╕рд░реНрд╡рд░ рддреИрдпрд╛рд░ рдХрд░рддрд╛ рд╣реИред
* **рд╕рдВрдХрд▓рди (Compilation):** Dart рдХреЛрдб рдХреЛ рдорд╢реАрдиреА рднрд╛рд╖рд╛ (`.exe` рдлреЙрд░реНрдореЗрдЯ рдореЗрдВ) рдореЗрдВ рдкрд░рд┐рд╡рд░реНрддрд┐рдд рдХрд░рддрд╛ рд╣реИ, рдЬрд┐рд╕рд╕реЗ рдПрдХ рдЕрдиреБрдХреВрд▓рд┐рдд рдлрд╝рд╛рдЗрд▓ рдмрдирддреА рд╣реИред рдЗрд╕ рддрд░рд╣, рд╕рд░реНрд╡рд░ рдмрд╣реБрдд рддреЗрдЬреА рд╕реЗ рдЪрд▓рддрд╛ рд╣реИ рдФрд░ рдХрдо рдореЗрдореЛрд░реА рдХреА рдЦрдкрдд рдХрд░рддрд╛ рд╣реИред
* **рдкреГрд╖реНрдарднреВрдорд┐ рд╕рдВрдЪрд╛рд▓рди:** `nohup` рдХрдорд╛рдВрдб рдХреЗ рд╕рд╛рде рд╕рд░реНрд╡рд░ рдХреЛ рдкреГрд╖реНрдарднреВрдорд┐ рдореЗрдВ рдлреЗрдВрдХрддрд╛ рд╣реИред рднрд▓реЗ рд╣реА рдЖрдк рдЕрдкрдирд╛ SSH рдХрдиреЗрдХреНрд╢рди рдХрд╛рдЯ рджреЗрдВ, рд╕рд░реНрд╡рд░ рдЪрд▓рддрд╛ рд░рд╣рддрд╛ рд╣реИред
* **рд▓реЙрдЧ:** рд╕рднреА рдЖрдЙрдЯрдкреБрдЯ `zeytin.log` рдлрд╝рд╛рдЗрд▓ рдореЗрдВ рд▓рд┐рдЦрддрд╛ рд╣реИред
* **PID рдЯреНрд░реИрдХрд┐рдВрдЧ:** рдЪрд▓ рд░рд╣реА рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреА ID рд╕рдВрдЦреНрдпрд╛ рдХреЛ `server.pid` рдлрд╝рд╛рдЗрд▓ рдореЗрдВ рд╕рд╣реЗрдЬрддрд╛ рд╣реИред рдЗрд╕ рддрд░рд╣, рдЖрдк рдмрд╛рдж рдореЗрдВ рд╕рд░реНрд╡рд░ рдХреЛ рдЖрд╕рд╛рдиреА рд╕реЗ рд░реЛрдХ рд╕рдХрддреЗ рд╣реИрдВред

---

## 6.2. рдирд┐рдЧрд░рд╛рдиреА рдФрд░ рдирд┐рдпрдВрддреНрд░рдг

рд╕рд░реНрд╡рд░ рдХреЗ рдЪрд▓рдиреЗ рдХреЗ рджреМрд░рд╛рди рдЙрд╕рдХреА рд╕реНрдерд┐рддрд┐ рдХреЛ рдЯреНрд░реИрдХ рдХрд░рдиреЗ рдпрд╛ рд╣рд╕реНрддрдХреНрд╖реЗрдк рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрдк рдЗрди рд╡рд┐рдХрд▓реНрдкреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред

### 3. Watch Logs (рд▓реЙрдЧ рджреЗрдЦреЗрдВ)
рдпрд╣ рдпрд╣ рджреЗрдЦрдиреЗ рдХреЗ рд▓рд┐рдП рд╣реИ рдХрд┐ рдкреГрд╖реНрдарднреВрдорд┐ (Live Mode) рдореЗрдВ рдЪрд▓ рд░рд╣рд╛ рд╕рд░реНрд╡рд░ рддреБрд░рдВрдд рдХреНрдпрд╛ рдХрд░ рд░рд╣рд╛ рд╣реИред рдпрд╣ `tail -f zeytin.log` рдХрдорд╛рдВрдб рдЪрд▓рд╛рддрд╛ рд╣реИред рдЖрдк рд╕реНрдХреНрд░реАрди рдкрд░ рдмрд╣рдиреЗ рд╡рд╛рд▓реЗ рдЯреЗрдХреНрд╕реНрдЯ рдХреЛ рд░реЛрдХрдиреЗ рдХреЗ рд▓рд┐рдП `CTRL+C` рджрдмрд╛ рд╕рдХрддреЗ рд╣реИрдВ; рдпрд╣ рдСрдкрд░реЗрд╢рди рд╕рд░реНрд╡рд░ рдХреЛ рдмрдВрдж рдирд╣реАрдВ рдХрд░рддрд╛ рд╣реИ, рдпрд╣ рдХреЗрд╡рд▓ рдирд┐рдЧрд░рд╛рдиреА рд╕реНрдХреНрд░реАрди рд╕реЗ рдмрд╛рд╣рд░ рдирд┐рдХрд▓рддрд╛ рд╣реИред

### 4. Stop Server (рд╕рд░реНрд╡рд░ рд░реЛрдХреЗрдВ)
рдЪрд▓ рд░рд╣реЗ Zeytin рд╕рд░реНрд╡рд░ рдХреЛ рд╕реБрд░рдХреНрд╖рд┐рдд рд░реВрдк рд╕реЗ рдмрдВрдж рдХрд░рддрд╛ рд╣реИред Runner рдкрд╣рд▓реЗ `server.pid` рдлрд╝рд╛рдЗрд▓ рдХреЛ рджреЗрдЦрддрд╛ рд╣реИ рдФрд░ рд╕рдВрдмрдВрдзрд┐рдд рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЛ рд╕рдорд╛рдкреНрдд рдХрд░рддрд╛ рд╣реИред рдпрджрд┐ рдлрд╝рд╛рдЗрд▓ рдореМрдЬреВрдж рдирд╣реАрдВ рд╣реИ рдпрд╛ рд╣рдЯрд╛ рджреА рдЧрдИ рд╣реИ, рддреЛ рдпрд╣ рд╕рд┐рд╕реНрдЯрдо рдореЗрдВ рд╕рднреА Zeytin рдкреНрд░рдХреНрд░рд┐рдпрд╛рдУрдВ рдХреЛ рдЬрдмрд░рди рд╕рд╛рдл рдХрд░рддрд╛ рд╣реИред

---

## 6.3. рд░рдЦрд░рдЦрд╛рд╡ рдФрд░ рдмреБрдирд┐рдпрд╛рджреА рдврд╛рдВрдЪрд╛ рд╕рдВрдЪрд╛рд▓рди

рдпреЗ рд╕рд┐рд╕реНрдЯрдо рдХреА рдЕрджреНрдпрддрдирддрд╛ рдФрд░ рд╕реНрд╡рд╛рд╕реНрдереНрдп рдХреЛ рдмрдирд╛рдП рд░рдЦрдиреЗ рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ рдЙрдкрдХрд░рдг рд╣реИрдВред

### 6. UPDATE SYSTEM (рд╕рд┐рд╕реНрдЯрдо рдЕрдкрдбреЗрдЯ рдХрд░реЗрдВ)
рдЬрдм GitHub рд░рд┐рдкреЙрдЬрд┐рдЯрд░реА рдкрд░ рдХреЛрдИ рдирдпрд╛ рдЕрдкрдбреЗрдЯ рдкреНрд░рдХрд╛рд╢рд┐рдд рд╣реЛрддрд╛ рд╣реИ рддреЛ рдЗрд╕ рд╡рд┐рдХрд▓реНрдк рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВред рдпрд╣ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреНрд░рдорд╢рдГ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХрд░рддреА рд╣реИ:
1.  рдЖрдкрдХреА рдореМрдЬреВрджрд╛ `config.dart` рдлрд╝рд╛рдЗрд▓ рдХрд╛ рдмреИрдХрдЕрдк рд▓реЗрддреА рд╣реИред (рдЖрдкрдХреА рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рдЦреЛ рдирд╣реАрдВ рдЬрд╛рддреА рд╣реИрдВ)
2.  `git pull` рдХрдорд╛рдВрдб рдХреЗ рд╕рд╛рде рд╕рд░реНрд╡рд░ рдкрд░ рдирд╡реАрдирддрдо рдХреЛрдб рдбрд╛рдЙрдирд▓реЛрдб рдХрд░рддреА рд╣реИред
3.  рдмреИрдХрдЕрдк рдХреА рдЧрдИ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдлрд╝рд╛рдЗрд▓ рдХреЛ рдкреБрдирд░реНрд╕реНрдерд╛рдкрд┐рдд рдХрд░рддреА рд╣реИред
4.  `dart pub get` рдХреЗ рд╕рд╛рде рдирдИ рдЬреЛрдбрд╝реА рдЧрдИ рд▓рд╛рдЗрдмреНрд░реЗрд░реА рдбрд╛рдЙрдирд▓реЛрдб рдХрд░рддреА рд╣реИред
5.  рдкреНрд░рдХреНрд░рд┐рдпрд╛ рд╕рдорд╛рдкреНрдд рд╣реЛрдиреЗ рдкрд░ рдЖрдкрдХреЛ рд╕рд░реНрд╡рд░ рдХреЛ рдкреБрдирд░рд╛рд░рдВрдн рдХрд░рдирд╛ рд╣реЛрдЧрд╛ред

### 7. Clear Database & Storage (рдбреЗрдЯрд╛рдмреЗрд╕ рдФрд░ рд╕реНрдЯреЛрд░реЗрдЬ рд╕рд╛рдлрд╝ рдХрд░реЗрдВ)
рдпрд╣ рд╡рд┐рдХрд▓реНрдк **рдЦрддрд░рдирд╛рдХ** рд╣реИред рдпрд╣ рд╕рд░реНрд╡рд░ рдХреЛ рд░реЛрдХрддрд╛ рд╣реИ рдФрд░ `zeytin/` рдлрд╝реЛрд▓реНрдбрд░ рдХреЗ рдЕрдВрджрд░ рд╕рднреА рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдбреЗрдЯрд╛, рдлрд╝рд╛рдЗрд▓реЛрдВ рдФрд░ рдЗрдВрдбреЗрдХреНрд╕ рдХреЛ рд╕реНрдерд╛рдпреА рд░реВрдк рд╕реЗ рд╣рдЯрд╛ рджреЗрддрд╛ рд╣реИред рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рддрдм рдХрд░реЗрдВ рдЬрдм рдЖрдк рд╢реВрдиреНрдп рд╕реЗ рдПрдХ рд╕рд╛рдл рд╢реБрд░реБрдЖрдд рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВред

### 5. UNINSTALL SYSTEM (рд╕рд┐рд╕реНрдЯрдо рдЕрдирдЗрдВрд╕реНрдЯреЙрд▓ рдХрд░реЗрдВ)
рд╕рдмрд╕реЗ рдЦрддрд░рдирд╛рдХ рд╡рд┐рдХрд▓реНрдкред рдпрд╣ рд╕рд░реНрд╡рд░ рдХреЛ рд░реЛрдХрддрд╛ рд╣реИ рдФрд░ рдбрд┐рд╕реНрдХ рд╕реЗ рдкреВрд░реЗ рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдлрд╝реЛрд▓реНрдбрд░ рдХреЛ рд╣рдЯрд╛ рджреЗрддрд╛ рд╣реИред рдХреЛрдИ рд╡рд╛рдкрд╕реА рдирд╣реАрдВ рд╣реИред

---

## 6.4. Nginx рдкреНрд░рдмрдВрдзрди

рдпрджрд┐ рдЖрдкрдиреЗ рдЗрдВрд╕реНрдЯреЙрд▓реЗрд╢рди рдЪрд░рдг рдХреЗ рджреМрд░рд╛рди SSL рдФрд░ рдбреЛрдореЗрди рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рдирд╣реАрдВ рдХреА рд╣реИрдВ рдпрд╛ рдЙрдиреНрд╣реЗрдВ рдмрджрд▓рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ, рддреЛ рдЖрдк рдЗрд╕ рдореЗрдиреВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред

### 8. Nginx & SSL Setup
`install.sh` рдлрд╝рд╛рдЗрд▓ рдХреЛ рдлрд┐рд░ рд╕реЗ рдЯреНрд░рд┐рдЧрд░ рдХрд░рддрд╛ рд╣реИред рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдирдпрд╛ рдбреЛрдореЗрди рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░рдиреЗ рдпрд╛ SSL рдкреНрд░рдорд╛рдгрдкрддреНрд░ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред

### 9. Remove Nginx Config (Nginx рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рд╣рдЯрд╛рдПрдВ)
Zeytin рдХреЗ рд▓рд┐рдП рдмрдирд╛рдИ рдЧрдИ Nginx рд╕реЗрдЯрд┐рдВрдЧ рдлрд╝рд╛рдЗрд▓реЛрдВ рдФрд░ рд╢реЙрд░реНрдЯрдХрдЯ рдХреЛ рд╣рдЯрд╛ рджреЗрддрд╛ рд╣реИ, рдлрд┐рд░ Nginx рд╕реЗрд╡рд╛ рдХреЛ рдкреБрдирд░рд╛рд░рдВрдн рдХрд░рддрд╛ рд╣реИред рдЖрдкрдХрд╛ рд╕рд░реНрд╡рд░ рдЕрдм рдмрд╛рд╣рд░реА рджреБрдирд┐рдпрд╛ (рдкреЛрд░реНрдЯ 80/443) рдХреЛ рдЬрд╡рд╛рдм рдирд╣реАрдВ рджреЗрддрд╛ рд╣реИ, рдпрд╣ рдХреЗрд╡рд▓ рд╕реНрдерд╛рдиреАрдп рдкреЛрд░реНрдЯ (12852) рд╕реЗ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИред